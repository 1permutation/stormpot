<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Sun Aug 23 00:53:04 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Reallocator (stormpot 2.4 API)</title>
<meta name="date" content="2015-08-23">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Reallocator (stormpot 2.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Reallocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/QueuePool.html" title="class in stormpot"><span class="strong">Prev Class</span></a></li>
<li><a href="../stormpot/ResizablePool.html" title="interface in stormpot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/Reallocator.html" target="_top">Frames</a></li>
<li><a href="Reallocator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stormpot</div>
<h2 title="Interface Reallocator" class="title">Interface Reallocator&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../stormpot/Allocator.html" title="interface in stormpot">Allocator</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">Reallocator&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</span>
extends <a href="../stormpot/Allocator.html" title="interface in stormpot">Allocator</a>&lt;T&gt;</pre>
<div class="block"><p>Reallocators are a special kind of <a href="../stormpot/Allocator.html" title="interface in stormpot"><code>Allocator</code></a> that can reallocate
<a href="../stormpot/Poolable.html" title="interface in stormpot"><code>Poolable</code></a>s that have expired. This is useful since the <a href="../stormpot/Pool.html" title="interface in stormpot"><code>Pool</code></a>
will typically keep the Poolables around for a relatively long time, with
respect to garbage collection. Because of this, there is a high chance that
the Poolables tenure to the old generation during their life time. This
way, pools often cause a slow, but steady accretion of old generation
garbage, ultimately helping to increase the frequency of expensive full
collections.</p>
<p>The accretion of old generation garbage is inevitable, but the rate can be
slowed by reusing as much as possible of the Poolable instances, when they
are to be reallocated. This interface is only here to enable this
optimisation, and implementing it is completely optional.</p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.2</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../stormpot/Reallocator.html" title="type parameter in Reallocator">T</a></code></td>
<td class="colLast"><code><strong><a href="../stormpot/Reallocator.html#reallocate(stormpot.Slot,%20T)">reallocate</a></strong>(<a href="../stormpot/Slot.html" title="interface in stormpot">Slot</a>&nbsp;slot,
          <a href="../stormpot/Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;poolable)</code>
<div class="block">Possibly reallocate the given instance of T for the given slot, and
return it if the reallocation was successful, or a fresh replacement if
the instance could not be reallocated.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_stormpot.Allocator">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;stormpot.<a href="../stormpot/Allocator.html" title="interface in stormpot">Allocator</a></h3>
<code><a href="../stormpot/Allocator.html#allocate(stormpot.Slot)">allocate</a>, <a href="../stormpot/Allocator.html#deallocate(T)">deallocate</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reallocate(stormpot.Slot,stormpot.Poolable)">
<!--   -->
</a><a name="reallocate(stormpot.Slot, T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reallocate</h4>
<pre><a href="../stormpot/Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;reallocate(<a href="../stormpot/Slot.html" title="interface in stormpot">Slot</a>&nbsp;slot,
           <a href="../stormpot/Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;poolable)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Possibly reallocate the given instance of T for the given slot, and
return it if the reallocation was successful, or a fresh replacement if
the instance could not be reallocated.</p>
<p>This method is effectively equivalent to the following:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">deallocate(poolable);
<span class="keyword">return</span> allocate(slot);</code></pre>
</div>
</div>
<p>With the only difference that it may, if possible, reuse the given
expired Poolable, either wholly or in part.</p>
<p>The state stored in the <a href="../stormpot/SlotInfo.html" title="interface in stormpot"><code>SlotInfo</code></a> for the object is reset
upon reallocation, just like it would be in the case of a normal
deallocation-allocation cycle.</p>
<p>Exceptions thrown by this method may propagate out through the
<a href="../stormpot/Pool.html#claim(stormpot.Timeout)"><code>claim</code></a> method of a pool, in the form of being
wrapped inside a <a href="../stormpot/PoolException.html" title="class in stormpot"><code>PoolException</code></a>. Pools must be able to handle these
exceptions in a sane manner, and are guaranteed to return to a working
state if a Reallocator stops throwing exceptions from its reallocate
method.</p>
<p>Be aware that if the reallocation of an object fails with an exception,
then no attempts will be made to explicitly deallocate that object. This
way, a failed reallocation is implicitly understood to effectively be a
successful deallocation.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>slot</code> - The slot the pool wish to allocate an object for.
Implementers do not need to concern themselves with the details of a
pools slot objects. They just have to call release on them as the
protocol demands.</dd><dd><code>poolable</code> - The non-null Poolable instance to be reallocated.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A fresh or rejuvenated instance of T. Never <code>null</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - If the allocation fails.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/Allocator.html#allocate(stormpot.Slot)"><code>Allocator.allocate(Slot)</code></a>, 
<a href="../stormpot/Allocator.html#deallocate(T)"><code>Allocator.deallocate(Poolable)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Reallocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/QueuePool.html" title="class in stormpot"><span class="strong">Prev Class</span></a></li>
<li><a href="../stormpot/ResizablePool.html" title="interface in stormpot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/Reallocator.html" target="_top">Frames</a></li>
<li><a href="Reallocator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2014&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
