<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Sun Aug 23 23:00:55 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pool (stormpot 2.4 API)</title>
<meta name="date" content="2015-08-23">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Pool (stormpot 2.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Pool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stormpot/Poolable.html" title="interface in stormpot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/Pool.html" target="_top">Frames</a></li>
<li><a href="Pool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stormpot</div>
<h2 title="Interface Pool" class="title">Interface Pool&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../stormpot/LifecycledPool.html" title="interface in stormpot">LifecycledPool</a>&lt;T&gt;, <a href="../stormpot/LifecycledResizablePool.html" title="interface in stormpot">LifecycledResizablePool</a>&lt;T&gt;, <a href="../stormpot/ResizablePool.html" title="interface in stormpot">ResizablePool</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../stormpot/BlazePool.html" title="class in stormpot">BlazePool</a>, <a href="../stormpot/bpool/BlazePool.html" title="class in stormpot.bpool">BlazePool</a>, <a href="../stormpot/QueuePool.html" title="class in stormpot">QueuePool</a>, <a href="../stormpot/qpool/QueuePool.html" title="class in stormpot.qpool">QueuePool</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Pool&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</span></pre>
<div class="block"><p>A Pool is a self-renewable set of objects from which one can claim exclusive
access to elements, until they are released back into the pool.</p>
<p>Pools contain <a href="../stormpot/Poolable.html" title="interface in stormpot"><code>Poolable</code></a> objects. When you claim an object in a pool,
you also take upon yourself the responsibility of eventually
<a href="../stormpot/Poolable.html#release--"><code>releasing</code></a> that object again. By far the most
common idiom to achieve this is with a <code>try-finally</code> clause:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Timeout timeout = <span class="keyword">new</span> Timeout(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.SECONDS);
SomePoolable obj = pool.claim(timeout);
<span class="keyword">try</span> {
  <span class="comment">// Do useful things with 'obj'.</span>
  <span class="comment">// Note that 'obj' will be 'null' if 'claim' timed out.</span>
} <span class="keyword">finally</span> {
  <span class="keyword">if</span> (obj != <span class="predefined-constant">null</span>) {
    obj.release();
  }
}</code></pre>
</div>
</div></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../stormpot/Pool.html" title="type parameter in Pool">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/Pool.html#claim-stormpot.Timeout-">claim</a></span>(<a href="../stormpot/Timeout.html" title="class in stormpot">Timeout</a>&nbsp;timeout)</code>
<div class="block">Claim the exclusive rights until released, to an object in the pool.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="claim-stormpot.Timeout-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>claim</h4>
<pre><a href="../stormpot/Pool.html" title="type parameter in Pool">T</a>&nbsp;claim(<a href="../stormpot/Timeout.html" title="class in stormpot">Timeout</a>&nbsp;timeout)
 throws <a href="../stormpot/PoolException.html" title="class in stormpot">PoolException</a>,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Claim the exclusive rights until released, to an object in the pool.
Possibly waiting up to the specified amount of time, as given by the
provided <a href="../stormpot/Timeout.html" title="class in stormpot"><code>Timeout</code></a> instance, for one to become available if the
pool has been depleted. If the timeout elapses before an object can be
claimed, then <code>null</code> is returned instead. The timeout will be
honoured even if the Allocators <a href="../stormpot/Allocator.html#allocate-stormpot.Slot-"><code>allocate</code></a>
methods blocks forever. If the given timeout has a zero or negative value,
then the method will not wait.</p>
<p>If the current thread has already one or more objects currently claimed,
then a distinct object will be returned, if one is or becomes available.
This means that it is possible for a single thread to deplete the pool, if
it so desires.</p>
<p>This method may throw a PoolException if the pool have trouble allocating
objects. That is, if its assigned Allocator throws exceptions from its
allocate method, or returns <code>null</code>.</p>
<p>An <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> will be thrown if the thread has its
interrupted flag set upon entry to this method, or is interrupted while
waiting. The interrupted flag on the thread will be cleared after
this, as per the general contract of interruptible methods.</p>
<p>If the pool is a <a href="../stormpot/LifecycledPool.html" title="interface in stormpot"><code>LifecycledPool</code></a> and has been shut down, then an
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> will be thrown when this method is called.
Likewise if we are waiting for an object to become available, and someone
shuts the pool down.</p>
<p>Memory effects:</p>
<div class="ulist">
<ul>
<li>
<p>The <a href="../stormpot/Poolable.html#release--"><code>release</code></a> of an object happens-before
any subsequent claim or <a href="../stormpot/Allocator.html#deallocate-T-"><code>deallocation</code></a> of that object, and,</p>
</li>
<li>
<p>The <a href="../stormpot/Allocator.html#allocate-stormpot.Slot-"><code>allocation</code></a> of an object
happens-before any claim of that object.</p>
</li>
</ul>
</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - The timeout of the maximum permitted time-slice to wait for
an object to become available. A timeout with a value of zero or less
means that the call will do no waiting, preferring instead to return early
if no objects are available.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An object of the Poolable subtype T to which the exclusive rights
have been claimed, or <code>null</code> if the timeout period elapsed
before an object became available.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../stormpot/PoolException.html" title="class in stormpot">PoolException</a></code> - If an object allocation failed because the Allocator
threw an exception from its allocate method, or returned
<code>null</code>, or the
<a href="../stormpot/Expiration.html#hasExpired-stormpot.SlotInfo-"><code>expiration check</code></a> threw an
exception.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang"><code>interrupted</code></a> upon entry, or becomes interrupted
while waiting.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>timeout</code> argument is <code>null</code>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Pool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stormpot/Poolable.html" title="interface in stormpot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/Pool.html" target="_top">Frames</a></li>
<li><a href="Pool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2014&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
