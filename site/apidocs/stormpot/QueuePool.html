<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Sat Nov 22 13:42:17 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>QueuePool (stormpot 2.4-SNAPSHOT API)</title>
<meta name="date" content="2014-11-22">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="QueuePool (stormpot 2.4-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueuePool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/PoolException.html" title="class in stormpot"><span class="strong">Prev Class</span></a></li>
<li><a href="../stormpot/Reallocator.html" title="interface in stormpot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/QueuePool.html" target="_top">Frames</a></li>
<li><a href="QueuePool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stormpot</div>
<h2 title="Class QueuePool" class="title">Class QueuePool&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>stormpot.QueuePool&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../stormpot/LifecycledPool.html" title="interface in stormpot">LifecycledPool</a>&lt;T&gt;, <a href="../stormpot/LifecycledResizablePool.html" title="interface in stormpot">LifecycledResizablePool</a>&lt;T&gt;, <a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a>, <a href="../stormpot/Pool.html" title="interface in stormpot">Pool</a>&lt;T&gt;, <a href="../stormpot/ResizablePool.html" title="interface in stormpot">ResizablePool</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../stormpot/qpool/QueuePool.html" title="class in stormpot.qpool">QueuePool</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">QueuePool&lt;T extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../stormpot/LifecycledResizablePool.html" title="interface in stormpot">LifecycledResizablePool</a>&lt;T&gt;, <a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></pre>
<div class="block"><div class="paragraph">
<p>QueuePool is a fairly simple <a href="../stormpot/LifecycledResizablePool.html" title="interface in stormpot"><code>LifecycledResizablePool</code></a> implementation
that basically consists of a queue of Poolable instances, and a Thread to
allocate them.</p>
</div>
<div class="paragraph">
<p>This means that the object allocation always happens in a dedicated thread.
This means that no thread that calls any of the claim methods, will incur
the overhead of allocating Poolables. This should lead to reduced deviation
in the times it takes claim method to complete, provided the pool is not
depleted.</p>
</div>
<div class="paragraph">
<p>The design is simple and straight forward, and exhibits a reasonable
base-line performance in all cases. If, however, the same threads are going
to claim and release objects from the pool over and over again — for
instance in the case of a typical Java web application — then
<a href="../stormpot/BlazePool.html" title="class in stormpot"><code>BlazePool</code></a> is likely going to yield better
performance.</p>
</div></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../stormpot/QueuePool.html#QueuePool(stormpot.Config)">QueuePool</a></strong>(<a href="../stormpot/Config.html" title="class in stormpot">Config</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a>&gt;&nbsp;config)</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a></code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#claim(stormpot.Timeout)">claim</a></strong>(<a href="../stormpot/Timeout.html" title="class in stormpot">Timeout</a>&nbsp;timeout)</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getAllocationCount()">getAllocationCount</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getAllocationFailureLatencyPercentile(double)">getAllocationFailureLatencyPercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getAllocationLatencyPercentile(double)">getAllocationLatencyPercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getDeallocationLatencyPercentile(double)">getDeallocationLatencyPercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getFailedAllocationCount()">getFailedAllocationCount</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getLeakedObjectsCount()">getLeakedObjectsCount</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getObjectLifetimePercentile(double)">getObjectLifetimePercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getReallocationFailureLatencyPercentile(double)">getReallocationFailureLatencyPercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getReallocationLatencyPercentile(double)">getReallocationLatencyPercentile</a></strong>(double&nbsp;percentile)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#getTargetSize()">getTargetSize</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#isShutDown()">isShutDown</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#setTargetSize(int)">setTargetSize</a></strong>(int&nbsp;size)</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../stormpot/Completion.html" title="interface in stormpot">Completion</a></code></td>
<td class="colLast"><code><strong><a href="../stormpot/QueuePool.html#shutdown()">shutdown</a></strong>()</code>
<div class="block"><div class="paragraph"></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="QueuePool(stormpot.Config)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QueuePool</h4>
<pre>public&nbsp;QueuePool(<a href="../stormpot/Config.html" title="class in stormpot">Config</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a>&gt;&nbsp;config)</pre>
<div class="block"><div class="paragraph">
<p>Construct a new QueuePool instance based on the given <a href="../stormpot/Config.html" title="class in stormpot"><code>Config</code></a>.</p>
</div></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>config</code> - The pool configuration to use.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="claim(stormpot.Timeout)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claim</h4>
<pre>public&nbsp;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a>&nbsp;claim(<a href="../stormpot/Timeout.html" title="class in stormpot">Timeout</a>&nbsp;timeout)
                         throws <a href="../stormpot/PoolException.html" title="class in stormpot">PoolException</a>,
                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/Pool.html#claim(stormpot.Timeout)">Pool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Claim the exclusive rights until released, to an object in the pool.
Possibly waiting up to the specified amount of time, as given by the
provided <a href="../stormpot/Timeout.html" title="class in stormpot"><code>Timeout</code></a> instance, for one to become available if the
pool has been depleted. If the timeout elapses before an object can be
claimed, then <code>null</code> is returned instead. The timeout will be
honoured even if the Allocators <a href="../stormpot/Allocator.html#allocate(stormpot.Slot)"><code>allocate</code></a>
methods blocks forever. If the given timeout has a zero or negative value,
then the method will not wait.</p>
</div>
<div class="paragraph">
<p>If the current thread has already one or more objects currently claimed,
then a distinct object will be returned, if one is or becomes available.
This means that it is possible for a single thread to deplete the pool, if
it so desires.</p>
</div>
<div class="paragraph">
<p>This method may throw a PoolException if the pool have trouble allocating
objects. That is, if its assigned Allocator throws exceptions from its
allocate method, or returns <code>null</code>.</p>
</div>
<div class="paragraph">
<p>An <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> will be thrown if the thread has its
interrupted flag set upon entry to this method, or is interrupted while
waiting. The interrupted flag on the thread will be cleared after
this, as per the general contract of interruptible methods.</p>
</div>
<div class="paragraph">
<p>If the pool is a <a href="../stormpot/LifecycledPool.html" title="interface in stormpot"><code>LifecycledPool</code></a> and has been shut down, then an
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> will be thrown when this method is called.
Likewise if we are waiting for an object to become available, and someone
shuts the pool down.</p>
</div>
<div class="paragraph">
<p>Memory effects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="../stormpot/Poolable.html#release()"><code>release</code></a> of an object happens-before
any subsequent claim or <a href="../stormpot/Allocator.html#deallocate(T)"><code>deallocation</code></a> of that object, and,</p>
</li>
<li>
<p>The <a href="../stormpot/Allocator.html#allocate(stormpot.Slot)"><code>allocation</code></a> of an object
happens-before any claim of that object.</p>
</li>
</ul>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/Pool.html#claim(stormpot.Timeout)">claim</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/Pool.html" title="interface in stormpot">Pool</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a> extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout of the maximum permitted time-slice to wait for
an object to become available. A timeout with a value of zero or less
means that the call will do no waiting, preferring instead to return early
if no objects are available.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An object of the Poolable subtype T to which the exclusive rights
have been claimed, or <code>null</code> if the timeout period elapsed
before an object became available.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../stormpot/PoolException.html" title="class in stormpot">PoolException</a></code> - If an object allocation failed because the Allocator
threw an exception from its allocate method, or returned
<code>null</code>, or the
<a href="../stormpot/Expiration.html#hasExpired(stormpot.SlotInfo)"><code>expiration check</code></a> threw an
exception.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang"><code>interrupted</code></a> upon entry, or becomes interrupted
while waiting.</dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;<a href="../stormpot/Completion.html" title="interface in stormpot">Completion</a>&nbsp;shutdown()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/LifecycledPool.html#shutdown()">LifecycledPool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Initiate the shut down process on this pool, and return a
<a href="../stormpot/Completion.html" title="interface in stormpot"><code>Completion</code></a> instance representing the shut down procedure.</p>
</div>
<div class="paragraph">
<p>The shut down process is asynchronous, and the shutdown method is
guaranteed to not wait for any claimed <a href="../stormpot/Poolable.html" title="interface in stormpot"><code>Poolables</code></a> to
be released.</p>
</div>
<div class="paragraph">
<p>The shut down process cannot complete before all Poolables are released
back into the pool and <a href="../stormpot/Allocator.html#deallocate(T)"><code>deallocated</code></a>,
and all internal resources (such as threads, for instance) have been
released as well. Only when all of these things have been taken care of,
does the await methods of the Completion return.</p>
</div>
<div class="paragraph">
<p>Once the shut down process has been initiated, that is, as soon as this
method is called, the pool can no longer be used and all calls to
<a href="../stormpot/Pool.html#claim(stormpot.Timeout)"><code>Pool.claim(Timeout)</code></a> will throw an <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a>.
Threads that are already waiting for objects in the claim method, will
also wake up and receive an <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a>.</p>
</div>
<div class="paragraph">
<p>All objects that are already claimed when this method is called,
will continue to function until they are
<a href="../stormpot/Poolable.html#release()"><code>released</code></a>.</p>
</div>
<div class="paragraph">
<p>The shut down process is guaranteed to never deallocate objects that are
currently claimed. Their deallocation will wait until they are released.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/LifecycledPool.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/LifecycledPool.html" title="interface in stormpot">LifecycledPool</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a> extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="../stormpot/Completion.html" title="interface in stormpot"><code>Completion</code></a> instance that represents the shut down
process.</dd></dl>
</li>
</ul>
<a name="setTargetSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTargetSize</h4>
<pre>public&nbsp;void&nbsp;setTargetSize(int&nbsp;size)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ResizablePool.html#setTargetSize(int)">ResizablePool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Set the target size for this pool. The pool will strive to keep this many
objects allocated at any one time.</p>
</div>
<div class="paragraph">
<p>If the new target size is greater than the old one, the pool will allocate
more objects until it reaches the target size. If, on the other hand, the
new target size is less than the old one, the pool will deallocate more
and allocate less, until the new target size is reached.</p>
</div>
<div class="paragraph">
<p>No guarantees are made about when the pool actually reaches the target
size. In fact, it may never happen as the target size can be changed as
often as one sees fit.</p>
</div>
<div class="paragraph">
<p>Pools that do not support a size less than 1 (which would deviate from the
standard configuration space) will throw an
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> if passed 0 or less.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#setTargetSize(int)">setTargetSize</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ResizablePool.html#setTargetSize(int)">setTargetSize</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ResizablePool.html" title="interface in stormpot">ResizablePool</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a> extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - The new target size of the pool</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/ResizablePool.html#setTargetSize(int)"><code>ResizablePool.setTargetSize(int)</code></a></dd></dl>
</li>
</ul>
<a name="getTargetSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetSize</h4>
<pre>public&nbsp;int&nbsp;getTargetSize()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ResizablePool.html#getTargetSize()">ResizablePool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Get the currently configured target size of the pool. Note that this is
<em>not</em> the number of objects currently allocated by the pool - only
the number of allocations the pool strives to keep alive.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getTargetSize()">getTargetSize</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ResizablePool.html#getTargetSize()">getTargetSize</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ResizablePool.html" title="interface in stormpot">ResizablePool</a>&lt;<a href="../stormpot/QueuePool.html" title="type parameter in QueuePool">T</a> extends <a href="../stormpot/Poolable.html" title="interface in stormpot">Poolable</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The current target size of this pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/ResizablePool.html#getTargetSize()"><code>ResizablePool.getTargetSize()</code></a></dd></dl>
</li>
</ul>
<a name="getAllocationCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocationCount</h4>
<pre>public&nbsp;long&nbsp;getAllocationCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ManagedPool.html#getAllocationCount()">ManagedPool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Return the number of objects the pool has allocated since it was created.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getAllocationCount()">getAllocationCount</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of Poolable objects ever created by this pool.</dd></dl>
</li>
</ul>
<a name="getFailedAllocationCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFailedAllocationCount</h4>
<pre>public&nbsp;long&nbsp;getFailedAllocationCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ManagedPool.html#getFailedAllocationCount()">ManagedPool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Return the number of allocations that has failed, either because the
allocator threw an exception or because it returned null, since the pool
was created.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getFailedAllocationCount()">getFailedAllocationCount</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of allocations that have failed for one reason or
another.</dd></dl>
</li>
</ul>
<a name="isShutDown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShutDown</h4>
<pre>public&nbsp;boolean&nbsp;isShutDown()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ManagedPool.html#isShutDown()">ManagedPool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>Returns <em>true</em> if the shut down process has been started on this pool,
<em>false</em> otherwise. This method does not reveal whether or not the shut
down process has completed.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#isShutDown()">isShutDown</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><em>true</em> if <a href="../stormpot/LifecycledPool.html#shutdown()"><code>LifecycledPool.shutdown()</code></a> has been called on
this pool.</dd></dl>
</li>
</ul>
<a name="getObjectLifetimePercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjectLifetimePercentile</h4>
<pre>public&nbsp;double&nbsp;getObjectLifetimePercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getObjectLifetimePercentile(double)">getObjectLifetimePercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate object lifetime in milliseconds, for the given
percentile, or Double.NaN if no <a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> has been
configured for the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getObjectLifetimePercentile(double)"><code>MetricsRecorder.getObjectLifetimePercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getAllocationLatencyPercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocationLatencyPercentile</h4>
<pre>public&nbsp;double&nbsp;getAllocationLatencyPercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getAllocationLatencyPercentile(double)">getAllocationLatencyPercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate latency for allocations in milliseconds, for the
given percentile, or Double.NaN if no <a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a>
has been configured for the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getAllocationLatencyPercentile(double)"><code>MetricsRecorder.getAllocationLatencyPercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getAllocationFailureLatencyPercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocationFailureLatencyPercentile</h4>
<pre>public&nbsp;double&nbsp;getAllocationFailureLatencyPercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getAllocationFailureLatencyPercentile(double)">getAllocationFailureLatencyPercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate latency for failed allocations in milliseconds,
for the given percentile, or Double.NaN if no
<a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> has been configured for the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getAllocationFailureLatencyPercentile(double)"><code>MetricsRecorder.getAllocationFailureLatencyPercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getReallocationLatencyPercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReallocationLatencyPercentile</h4>
<pre>public&nbsp;double&nbsp;getReallocationLatencyPercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getReallocationLatencyPercentile(double)">getReallocationLatencyPercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate latency for reallocations in milliseconds, for the
given percentile, or Double.NaN if no
<a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> has been configured for the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getReallocationLatencyPercentile(double)"><code>MetricsRecorder.getReallocationLatencyPercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getReallocationFailureLatencyPercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReallocationFailureLatencyPercentile</h4>
<pre>public&nbsp;double&nbsp;getReallocationFailureLatencyPercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getReallocationFailureLatencyPercentile(double)">getReallocationFailureLatencyPercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate latency for failed reallocations in milliseconds,
for the given percentile, or Double.NaN if no
<a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> has been configured for the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getReallocationFailurePercentile(double)"><code>MetricsRecorder.getReallocationFailurePercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getDeallocationLatencyPercentile(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeallocationLatencyPercentile</h4>
<pre>public&nbsp;double&nbsp;getDeallocationLatencyPercentile(double&nbsp;percentile)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getDeallocationLatencyPercentile(double)">getDeallocationLatencyPercentile</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>percentile</code> - The percentile to get, as a decimal, e.g. a number
                  between 0.0 and 1.0.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The approximate latency for deallocations, regardless of whether
the throw exceptions or not, in milliseconds for the given percentile, or
Double.NaN if no <a href="../stormpot/MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> has been configured for
the pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../stormpot/MetricsRecorder.html#getDeallocationLatencyPercentile(double)"><code>MetricsRecorder.getDeallocationLatencyPercentile(double)</code></a></dd></dl>
</li>
</ul>
<a name="getLeakedObjectsCount()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLeakedObjectsCount</h4>
<pre>public&nbsp;long&nbsp;getLeakedObjectsCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../stormpot/ManagedPool.html#getLeakedObjectsCount()">ManagedPool</a></code></strong></div>
<div class="block"><div class="paragraph">
<p>If the pool is capable of precise object leak detection, this method will
return the number of object leaks that have been detected, and prevented,
since the pool was created. If the pool does not support precise object
leak detection, then this method returns -1.</p>
</div>
<div class="paragraph">
<p>There are two kinds of leaks: One where the application forgets to release
an object back to the pool, but keeps a strong reference to the object,
and another where the application not only forgets to release the object,
but also looses the reference to the object, making it eligible for
garbage collection. The precise leak detector will only count leaks of the
latter kind, where the leaked object has been garbage collected.</p>
</div></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../stormpot/ManagedPool.html#getLeakedObjectsCount()">getLeakedObjectsCount</a></code>&nbsp;in interface&nbsp;<code><a href="../stormpot/ManagedPool.html" title="interface in stormpot">ManagedPool</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of objects leaked from the users of this pool, since
the pool was created, or -1 if the pool does not implement precise leak
detection.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueuePool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/PoolException.html" title="class in stormpot"><span class="strong">Prev Class</span></a></li>
<li><a href="../stormpot/Reallocator.html" title="interface in stormpot"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/QueuePool.html" target="_top">Frames</a></li>
<li><a href="QueuePool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2014&#x2013;2014. All rights reserved.</small></p>
</body>
</html>
