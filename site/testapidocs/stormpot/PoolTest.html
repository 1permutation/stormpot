<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Sun Aug 23 23:01:00 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PoolTest (stormpot 2.4 Test API)</title>
<meta name="date" content="2015-08-23">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PoolTest (stormpot 2.4 Test API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10,"i78":10,"i79":10,"i80":10,"i81":10,"i82":10,"i83":10,"i84":10,"i85":10,"i86":10,"i87":10,"i88":10,"i89":10,"i90":10,"i91":10,"i92":10,"i93":10,"i94":10,"i95":10,"i96":10,"i97":10,"i98":10,"i99":10,"i100":10,"i101":10,"i102":10,"i103":10,"i104":10,"i105":10,"i106":10,"i107":10,"i108":10,"i109":10,"i110":10,"i111":10,"i112":10,"i113":10,"i114":10,"i115":10,"i116":10,"i117":10,"i118":10,"i119":10,"i120":10,"i121":10,"i122":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoolTest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/PoolFixture.html" title="interface in stormpot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stormpot/PreciseLeakDetectorIT.html" title="class in stormpot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/PoolTest.html" target="_top">Frames</a></li>
<li><a href="PoolTest.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stormpot</div>
<h2 title="Class PoolTest" class="title">Class PoolTest</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>stormpot.PoolTest</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PoolTest</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>This is the generic test for Pool implementations. The test ensures that
an implementation adheres to the general contract of the Pool interface,
given certain circumstances and standardised configurations.
&lt;p&gt;
Pools may have other properties, and may be configurable to deviate from
the standardised behaviour. However, such properties must not be
observable within the standardised spectrum of configurations.
&lt;p&gt;
The tests for any special properties that a pool may have, must be put in
a pool-specific test case. Do not use assumptions or other tricks to
pollute this test case with tests for pool-specific or non-standard
behaviours and configurations.
&lt;p&gt;
The test case uses theories to apply to the set of possible Pool
implementations. Each implementation must have a PoolFixture, which is
used to construct and initialise the pool, based on a <a href="../../apidocs/stormpot/Config.html?is-external=true" title="class or interface in stormpot"><code>Config</code></a>.
&lt;p&gt;
The only assumptions used in this test, is whether the Pool is a
LifecycledPool or not. And most interesting pools are life-cycled.
LifecycledPools can be shut down. This is a required ability, in order to
test a number of behaviours, but also brings about its own set of new
behaviours and flows that needs to be tested for. Those tests are also
included in this test case.
&lt;p&gt;
&lt;strong&gt;Note:&lt;/strong&gt; when adding, removing or modifying tests, also
remember to update the <a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a> javadoc - especially the part about
what promises are provided by the Pool interface and its implementations.</p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#blazePool">blazePool</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.junit.rules.TestRule</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#failurePrinter">failurePrinter</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#queuePool">queuePool</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#PoolTest--">PoolTest</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitCompletionWithNullTimeUnitMustThrow-stormpot.PoolFixture-">awaitCompletionWithNullTimeUnitMustThrow</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">One must provide a Timeout argument when awaiting the completion of a
shut-down procedure.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitCompletionWithTimeoutLessThanOneMustReturnImmediately-stormpot.PoolFixture-">awaitCompletionWithTimeoutLessThanOneMustReturnImmediately</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">When await is called on a shutdown Completion with a timeout value less
than one, then no amount of waiting must take place.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitingOnAlreadyCompletedShutDownMustNotBlock-stormpot.PoolFixture-">awaitingOnAlreadyCompletedShutDownMustNotBlock</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We have verified that the await method works as intended, if you
begin your awaiting while the shut down process is still undergoing.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitOnCompletionWhenInterruptedMustClearInterruption-stormpot.PoolFixture-">awaitOnCompletionWhenInterruptedMustClearInterruption</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">As per the contract of throwing an InterruptedException, if the
await of an unfinished completion throws an InterruptedException, then
they must also clear the interrupted status.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitOnCompletionWhenInterruptedMustThrow-stormpot.PoolFixture-">awaitOnCompletionWhenInterruptedMustThrow</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Calling await on a completion when your thread is interrupted, must
throw an InterruptedException.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitOnFinishedCompletionMustClearInterruption-stormpot.PoolFixture-">awaitOnFinishedCompletionMustClearInterruption</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">As per the contract of throwing an InterruptedException, the above must
also clear the threads interrupted status.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitOnShutdownMustReturnWhenClaimedObjectsAreReleased-stormpot.PoolFixture-">awaitOnShutdownMustReturnWhenClaimedObjectsAreReleased</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We know from the previous test, that awaiting the shut down completion
will wait for any claimed objects to be released.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitWithTimeoutMustReturnFalseIfTimeoutElapses-stormpot.PoolFixture-">awaitWithTimeoutMustReturnFalseIfTimeoutElapses</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The await with timeout on the Completion of the shut down process
must return false if the timeout elapses, as is the typical contract
of such methods in java.util.concurrent.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitWithTimeoutMustReturnTrueIfCompletesWithinTimeout-stormpot.PoolFixture-">awaitWithTimeoutMustReturnTrueIfCompletesWithinTimeout</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We have verified that await with timeout returns false if the timeout
elapses.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitWithTimeoutOnCompletionMustThrowUponInterruption-stormpot.PoolFixture-">awaitWithTimeoutOnCompletionMustThrowUponInterruption</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A thread that is awaiting the completion of a shut down procedure with
a timeout, must throw an InterruptedException if it is interrupted.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#awaitWithTimeoutOnFinishedCompletionWhenInterruptedMustThrow-stormpot.PoolFixture-">awaitWithTimeoutOnFinishedCompletionWhenInterruptedMustThrow</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Calling await with a timeout on a finished completion when your thread
is interrupted must, just as with calling await without a timeout,
throw an InterruptedException.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#backgroundExpirationMustExpireObjectsWhenExpirationThrows-stormpot.PoolFixture-">backgroundExpirationMustExpireObjectsWhenExpirationThrows</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#backgroundExpirationMustNotExpireObjectsThatAreClaimed-stormpot.PoolFixture-">backgroundExpirationMustNotExpireObjectsThatAreClaimed</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#biasedClaimMustUpgradeToOrdinaryClaimIfTheObjectIsPulledFromTheQueue-stormpot.PoolFixture-">biasedClaimMustUpgradeToOrdinaryClaimIfTheObjectIsPulledFromTheQueue</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pool implementations that do biasing need to ensure, that claimed objects
are not available for other threads, even if the object is claimed with
a biased kind of claim.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#blockedClaimMustThrowWhenPoolIsShutDown-stormpot.PoolFixture-">blockedClaimMustThrowWhenPoolIsShutDown</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A call to claim on a pool that has been, or is in the process of being,
shut down, will throw an IllegalStateException.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#blockedClaimWithTimeoutMustThrowUponInterruption-stormpot.PoolFixture-">blockedClaimWithTimeoutMustThrowUponInterruption</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The claim methods checks whether the current thread is interrupted upon
entry, but perhaps what is more important is the interruption of a claim
call that is already waiting when the thread is interrupted.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#blockingClaimWithTimeoutMustWaitIfPoolIsEmpty-stormpot.PoolFixture-">blockingClaimWithTimeoutMustWaitIfPoolIsEmpty</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">If the pool has been depleted for objects, then a call to claim with
timeout will wait until either an object becomes available, or the timeout
elapses.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#blockingOnClaimWithTimeoutMustResumeWhenPoolablesAreReleased-stormpot.PoolFixture-">blockingOnClaimWithTimeoutMustResumeWhenPoolablesAreReleased</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A thread that is waiting in claim-with-timeout on a depleted pool must
wake up if another thread releases an object back into the pool.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#callingShutdownMustNotAffectInterruptionStatus-stormpot.PoolFixture-">callingShutdownMustNotAffectInterruptionStatus</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Initiating the shut-down procedure must not influence the threads
interruption status.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustReturnIfWithinTimeout-stormpot.PoolFixture-">claimMustReturnIfWithinTimeout</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A call to claim must return before the timeout elapses if it
can claim an object from the pool, and it must return that object.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustReturnNullIfTimeoutElapses-stormpot.PoolFixture-">claimMustReturnNullIfTimeoutElapses</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A call to claim that fails to get an object before the
timeout elapses, must return null.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustStayWithinDeadlineEvenIfAllocatorBlocks-stormpot.PoolFixture-">claimMustStayWithinDeadlineEvenIfAllocatorBlocks</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A call to claim with time-out must complete within the time-out period
even if the Allocator never returns.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustStayWithinTimeoutEvenIfExpiredObjectIsReleased-stormpot.PoolFixture-">claimMustStayWithinTimeoutEvenIfExpiredObjectIsReleased</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Claim with timeout must adhere to its timeout value.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustThrowIfAllocationReturnsNull-stormpot.PoolFixture-">claimMustThrowIfAllocationReturnsNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Allocators must never return &lt;code&gt;null&lt;/code&gt;, and if they do, then a
call to claim must throw a PoolException to indicate this fact.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimMustThrowIfReallocationReturnsNull-stormpot.PoolFixture-">claimMustThrowIfReallocationReturnsNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Reallocators must never return &lt;code&gt;null&lt;/code&gt; from
<a href="../../apidocs/stormpot/Reallocator.html?is-external=true#reallocate-stormpot.Slot-T-" title="class or interface in stormpot"><code>Reallocator.reallocate(Slot, Poolable)</code></a>, and if they do, then a
call to claim must throw a PoolException to indicate this fact.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimWhenInterruptedMustThrow-stormpot.PoolFixture-">claimWhenInterruptedMustThrow</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Threads that are already interrupted upon entry to the claim method, must
promptly be met with an InterruptedException.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#claimWithTimeoutValueLessThanOneMustReturnImmediately-stormpot.PoolFixture-">claimWithTimeoutValueLessThanOneMustReturnImmediately</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">When claim is called with a timeout less than one, then it means that
no (observable amount of) waiting should take place.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#constructorMustThrowIfConfiguredThreadFactoryReturnsNull-stormpot.PoolFixture-">constructorMustThrowIfConfiguredThreadFactoryReturnsNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#constructorMustThrowOnNullAllocator-stormpot.PoolFixture-">constructorMustThrowOnNullAllocator</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Prevent the creation of pools with a null Allocator.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#constructorMustThrowOnNullExpiration-stormpot.PoolFixture-">constructorMustThrowOnNullExpiration</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Prevent the creation of pools with a null Expiration.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#constructorMustThrowOnNullThreadFactory-stormpot.PoolFixture-">constructorMustThrowOnNullThreadFactory</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Prevent the creation of pools with a null ThreadFactory.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#constructorMustThrowOnPoolSizeLessThanOne-stormpot.PoolFixture-">constructorMustThrowOnPoolSizeLessThanOne</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Be careful and prevent the creation of pools with a size less than one.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#decreasingSizeMustEventuallyDeallocateSurplusObjects-stormpot.PoolFixture-">decreasingSizeMustEventuallyDeallocateSurplusObjects</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We must somehow ensure that the pool starts deallocating more than it
allocates, when the pool is shrunk.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#depletedPoolThatHasBeenShutDownMustThrowUponClaim-stormpot.PoolFixture-">depletedPoolThatHasBeenShutDownMustThrowUponClaim</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">If a pool has been depleted, and then shut down, and another call to claim
comes in, then it must immediately throw an IllegalStateException.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#depletedPoolThatHasBeenShutDownMustThrowUponClaimEvenAfterSomeTime-stormpot.PoolFixture-">depletedPoolThatHasBeenShutDownMustThrowUponClaimEvenAfterSomeTime</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Basically the same test as above, except now we wait for the shutdown
process to make a bit of progress.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#disabledLeakDetectionMustNotBreakResize-stormpot.PoolFixture-">disabledLeakDetectionMustNotBreakResize</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#exceptionsFromExpirationMustBubbleOut-stormpot.PoolFixture-">exceptionsFromExpirationMustBubbleOut</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">In the hopefully unlikely event that an Expiration throws an
exception, that exception should bubble out of the pool unspoiled.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#explicitExpiryFromExpirationMustAllowOneClaimPerObject-stormpot.PoolFixture-">explicitExpiryFromExpirationMustAllowOneClaimPerObject</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#explicitlyExpiryMustBeIdempotent-stormpot.PoolFixture-">explicitlyExpiryMustBeIdempotent</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#getTargetSizeMustReturnLastSetTargetSize-stormpot.PoolFixture-">getTargetSizeMustReturnLastSetTargetSize</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#increasingAndDecreasingSizeInQuickSuccessionMustEventuallyReachTargetSize-stormpot.PoolFixture-">increasingAndDecreasingSizeInQuickSuccessionMustEventuallyReachTargetSize</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Make sure that the pool does not get into a bad state, caused by concurrent
background resizing jobs interfering with each other.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#increasingSizeMustAllowMoreAllocations-stormpot.PoolFixture-">increasingSizeMustAllowMoreAllocations</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">When we increase the size of a depleted pool, it should be possible to
make claim again and get out newly allocated objects.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolInterfaceMustBeMXBeanConformant--">managedPoolInterfaceMustBeMXBeanConformant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolLeakedObjectCountMustStartAtZero-stormpot.PoolFixture-">managedPoolLeakedObjectCountMustStartAtZero</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustAllowGettingAndSettingPoolTargetSize-stormpot.PoolFixture-">managedPoolMustAllowGettingAndSettingPoolTargetSize</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustBeExposableThroughAnMBeanServerAsAnMXBean-stormpot.PoolFixture-">managedPoolMustBeExposableThroughAnMBeanServerAsAnMXBean</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountAllocations-stormpot.PoolFixture-">managedPoolMustCountAllocations</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountAllocationsFailingByReturningNull-stormpot.PoolFixture-">managedPoolMustCountAllocationsFailingByReturningNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountAllocationsFailingWithExceptions-stormpot.PoolFixture-">managedPoolMustCountAllocationsFailingWithExceptions</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountLeakedObjects-stormpot.PoolFixture-">managedPoolMustCountLeakedObjects</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountReallocationsFailingByReturningNull-stormpot.PoolFixture-">managedPoolMustCountReallocationsFailingByReturningNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustCountReallocationsFailingWithExceptions-stormpot.PoolFixture-">managedPoolMustCountReallocationsFailingWithExceptions</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustGetLatencyPercentilesFromConfiguredMetricsRecorder-stormpot.PoolFixture-">managedPoolMustGetLatencyPercentilesFromConfiguredMetricsRecorder</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustGivePoolState-stormpot.PoolFixture-">managedPoolMustGivePoolState</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustNotCountResizeAsLeak-stormpot.PoolFixture-">managedPoolMustNotCountResizeAsLeak</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustNotCountShutDownAsLeak-stormpot.PoolFixture-">managedPoolMustNotCountShutDownAsLeak</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustNotRecordObjectLifetimeLatencyBeforeFirstDeallocation-stormpot.PoolFixture-">managedPoolMustNotRecordObjectLifetimeLatencyBeforeFirstDeallocation</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustRecordObjectLifetimeOnDeallocateInConfiguredMetricsRecorder-stormpot.PoolFixture-">managedPoolMustRecordObjectLifetimeOnDeallocateInConfiguredMetricsRecorder</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustRecordObjectLifetimeOnReallocateInConfiguredMetricsRecorder-stormpot.PoolFixture-">managedPoolMustRecordObjectLifetimeOnReallocateInConfiguredMetricsRecorder</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustReturnMinusOneForLeakedObjectCountWhenDetectionIsDisabled-stormpot.PoolFixture-">managedPoolMustReturnMinusOneForLeakedObjectCountWhenDetectionIsDisabled</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#managedPoolMustReturnNaNWhenNoMetricsRecorderHasBeenConfigured-stormpot.PoolFixture-">managedPoolMustReturnNaNWhenNoMetricsRecorderHasBeenConfigured</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#metaTestingAssumptions-stormpot.PoolFixture-">metaTestingAssumptions</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;ignore)</code>&nbsp;</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustBeAbleToShutDownEvenIfInterrupted-stormpot.PoolFixture-">mustBeAbleToShutDownEvenIfInterrupted</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Calling shutdown on a pool while being interrupted must still start the
shut-down procedure.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustCheckObjectExpirationInBackgroundWhenEnabled-stormpot.PoolFixture-">mustCheckObjectExpirationInBackgroundWhenEnabled</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustCompleteShutdownEvenIfAllocatorEatsTheInterruptSignal-stormpot.PoolFixture-">mustCompleteShutdownEvenIfAllocatorEatsTheInterruptSignal</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">If the interrupt happen inside the Allocator.allocate(Slot) method, and
then the allocator either clears the interruption status, or throws an
InterruptedException which in turn will be understood as poison, then the
allocation thread can miss the shutdown signal, and never begin the
shutdown sequence.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustCompleteShutDownEvenIfAllSlotsHaveAllocationErrors-stormpot.PoolFixture-">mustCompleteShutDownEvenIfAllSlotsHaveAllocationErrors</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">As with
<a href="../stormpot/PoolTest.html#mustCompleteShutDownEvenIfAllSlotsHaveNullErrors-stormpot.PoolFixture-"><code>mustCompleteShutDownEvenIfAllSlotsHaveNullErrors(PoolFixture)</code></a>,
the pool must be able to shut down if it has never been able to allocate
anything.</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustCompleteShutDownEvenIfAllSlotsHaveNullErrors-stormpot.PoolFixture-">mustCompleteShutDownEvenIfAllSlotsHaveNullErrors</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Even if the Allocator has never made a successful allocation, the pool
must still be able to complete its shut-down procedure.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustDeallocateAllPoolablesBeforeShutdownTaskReturns-stormpot.PoolFixture-">mustDeallocateAllPoolablesBeforeShutdownTaskReturns</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">When we call shutdown() on a pool, the shutdown process is initiated and
the call returns a Completion object.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustDeallocateExpiredPoolablesAndStayWithinSizeLimit-stormpot.PoolFixture-">mustDeallocateExpiredPoolablesAndStayWithinSizeLimit</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The size limit on a pool is strict, unless specially (as in a
non-standard way) configured otherwise.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustDeallocateExplicitlyExpiredObjects-stormpot.PoolFixture-">mustDeallocateExplicitlyExpiredObjects</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustGetPooledObjectsFromAllocator-stormpot.PoolFixture-">mustGetPooledObjectsFromAllocator</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">While the pool mustn&#8217;t return null when we claim an object within the
timeout period, it likewise mustn&#8217;t just come up with any random thing
that implements Poolable.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotCachePoisonedSlots-stormpot.PoolFixture-">mustNotCachePoisonedSlots</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Here&#8217;s the scenario we&#8217;re trying to target:</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotDeallocateTheSameObjectMoreThanOnce-stormpot.PoolFixture-">mustNotDeallocateTheSameObjectMoreThanOnce</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Clients might hold on to objects after they have been released.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotFrivolouslyReallocateNonPoisonedSlotsDuringEagerRecovery-stormpot.PoolFixture-">mustNotFrivolouslyReallocateNonPoisonedSlotsDuringEagerRecovery</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsDisabled-stormpot.PoolFixture-">mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsDisabled</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsEnabled-stormpot.PoolFixture-">mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsEnabled</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotLeakSlotsIfExpirationThrowsThrowableInsteadOfException-stormpot.PoolFixture-">mustNotLeakSlotsIfExpirationThrowsThrowableInsteadOfException</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The specification only promises to correctly handle Expirations that throw
Exceptions, but we also test with Throwable, just in case we might be able
to recover from them as well.</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotReallocateObjectsThatAreNotExpiredByTheBackgroundCheck-stormpot.PoolFixture-">mustNotReallocateObjectsThatAreNotExpiredByTheBackgroundCheck</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotReallocateWhenReleasingExpiredObjectsIntoShrunkPool-stormpot.PoolFixture-">mustNotReallocateWhenReleasingExpiredObjectsIntoShrunkPool</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Similar to the decreasingSizeMustEventuallyDeallocateSurplusObjects test
above, but this time the objects are all expired after the pool has been
shrunk.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustNotThrowWhenReleasingObjectClaimedByAnotherThread-stormpot.PoolFixture-">mustNotThrowWhenReleasingObjectClaimedByAnotherThread</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">It is explicitly permitted that the thread that releases an object back
into the pool, can be a different thread than the one that claimed the
particular object.</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsReturningNull-stormpot.PoolFixture-">mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsReturningNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsThrowingExceptions-stormpot.PoolFixture-">mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsThrowingExceptions</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsReturningNull-stormpot.PoolFixture-">mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsReturningNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i83" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsThrowingExceptions-stormpot.PoolFixture-">mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsThrowingExceptions</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i84" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustPropagateExceptionsFromAllocateThroughClaim-stormpot.PoolFixture-">mustPropagateExceptionsFromAllocateThroughClaim</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pools must be prepared in the event that an Allocator throws an
Exception from allocate.</div>
</td>
</tr>
<tr id="i85" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustPropagateExceptionsFromReallocateThroughClaim-stormpot.PoolFixture-">mustPropagateExceptionsFromReallocateThroughClaim</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pools must be prepared in the event that a Reallocator throws an
Exception from reallocate.</div>
</td>
</tr>
<tr id="i86" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustReallocateExplicitlyExpiredObjectsInBackgroundWithBackgroundExpiration-stormpot.PoolFixture-">mustReallocateExplicitlyExpiredObjectsInBackgroundWithBackgroundExpiration</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i87" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustReallocateExplicitlyExpiredObjectsInBackgroundWithoutBackgroundExpiration-stormpot.PoolFixture-">mustReallocateExplicitlyExpiredObjectsInBackgroundWithoutBackgroundExpiration</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i88" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustReplaceExpiredPoolables-stormpot.PoolFixture-">mustReplaceExpiredPoolables</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Objects in the pool only live for a certain amount of time, and then
they must be replaced/renewed.</div>
</td>
</tr>
<tr id="i89" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustReplaceExplicitlyExpiredObjectsEvenIfDeallocationFails-stormpot.PoolFixture-">mustReplaceExplicitlyExpiredObjectsEvenIfDeallocationFails</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i90" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustReuseAllocatedObjects-stormpot.PoolFixture-">mustReuseAllocatedObjects</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">One uses a pool because a certain type of objects are expensive to
create and we would like to recycle them.</div>
</td>
</tr>
<tr id="i91" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustStillBeUsableAfterExceptionInAllocate-stormpot.PoolFixture-">mustStillBeUsableAfterExceptionInAllocate</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">A pool must not break its internal invariants if an Allocator throws an
exception in allocate, and it must still be usable after the exception
has bubbled out.</div>
</td>
</tr>
<tr id="i92" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustStillBeUsableAfterExceptionInReallocate-stormpot.PoolFixture-">mustStillBeUsableAfterExceptionInReallocate</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Likewise as above, a pool must not break its internal invariants if a
Reallocator throws an exception in reallocate, and it must still be
usable after the exception has bubbled out.</div>
</td>
</tr>
<tr id="i93" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustSwallowExceptionsFromDeallocateThroughRelease-stormpot.PoolFixture-">mustSwallowExceptionsFromDeallocateThroughRelease</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We cannot guarantee that exceptions from deallocating objects will
propagate out through release, because the actual deallocation might be
done asynchronously in a different thread.</div>
</td>
</tr>
<tr id="i94" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustSwallowExceptionsFromDeallocateThroughShutdown-stormpot.PoolFixture-">mustSwallowExceptionsFromDeallocateThroughShutdown</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">While it is technically possible to propagate exceptions from an
Allocators deallocate method during the shutdown procedure, it would not
be a desirable behaviour because it would be inconsistent with how this
works for the release method on Poolable - and Slot, for that matter.</div>
</td>
</tr>
<tr id="i95" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustUnbiasObjectsNoLongerClaimed-stormpot.PoolFixture-">mustUnbiasObjectsNoLongerClaimed</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pool implementations might do some kind of biasing to reduce contention.</div>
</td>
</tr>
<tr id="i96" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#mustUseProvidedExpiration-stormpot.PoolFixture-">mustUseProvidedExpiration</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pools must use the provided expiration to determine whether slots
are invalid or not, instead of using their own ad-hoc mechanisms.</div>
</td>
</tr>
<tr id="i97" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#objectMustBeClaimableAfterBackgroundReallocation-stormpot.PoolFixture-">objectMustBeClaimableAfterBackgroundReallocation</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i98" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#poolMustTolerateInterruptedExceptionFromAllocatorWhenNotShutDown-stormpot.PoolFixture-">poolMustTolerateInterruptedExceptionFromAllocatorWhenNotShutDown</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i99" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#poolMustUseConfiguredThreadFactoryWhenCreatingBackgroundThreads-stormpot.PoolFixture-">poolMustUseConfiguredThreadFactoryWhenCreatingBackgroundThreads</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i100" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#poolThatHasBeenShutDownMustThrowUponClaimEvenIfItHasAvailableUnbiasedObjects-stormpot.PoolFixture-">poolThatHasBeenShutDownMustThrowUponClaimEvenIfItHasAvailableUnbiasedObjects</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We must ensure that, for pool implementation that do biasing, the checking
of whether the pool has been shut down must come before even a biased
claim.</div>
</td>
</tr>
<tr id="i101" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#preventClaimFromPoolThatIsShutDown-stormpot.PoolFixture-">preventClaimFromPoolThatIsShutDown</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">It is not possible to claim from a pool that has been shut down.</div>
</td>
</tr>
<tr id="i102" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#settingTargetSizeOnPoolThatHasBeenShutDownDoesNothing-stormpot.PoolFixture-">settingTargetSizeOnPoolThatHasBeenShutDownDoesNothing</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i103" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#setUp--">setUp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i104" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#shutdownCallMustReturnFastIfPoolablesAreStillClaimed-stormpot.PoolFixture-">shutdownCallMustReturnFastIfPoolablesAreStillClaimed</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">So awaiting the shut down completion cannot return before all
claimed objects are both released and deallocated.</div>
</td>
</tr>
<tr id="i105" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#shutdownMustEventuallyDeallocateAllPoolables-stormpot.PoolFixture-">shutdownMustEventuallyDeallocateAllPoolables</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i106" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#shutdownMustNotDeallocateClaimedPoolables-stormpot.PoolFixture-">shutdownMustNotDeallocateClaimedPoolables</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">We have verified that the call to shutdown on a pool does not block on
claimed objects, and we have verified that all objects are deallocated
when the shut down completes.</div>
</td>
</tr>
<tr id="i107" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#shutdownMustNotDeallocateEmptySlots-stormpot.PoolFixture-">shutdownMustNotDeallocateEmptySlots</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The shutdown procedure might be tempted to blindly iterate the pool
data structure and deallocate every possible slot.</div>
</td>
</tr>
<tr id="i108" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#shutPoolDown--">shutPoolDown</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i109" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoAgeMustResetAfterAllocation-stormpot.PoolFixture-">slotInfoAgeMustResetAfterAllocation</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i110" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoAgeMustResetAfterReallocation-stormpot.PoolFixture-">slotInfoAgeMustResetAfterReallocation</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i111" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoClaimCountMustIncreaseWithClaims-stormpot.PoolFixture-">slotInfoClaimCountMustIncreaseWithClaims</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">SlotInfo objects offer a count of how many times the Poolable it
represents, has been claimed.</div>
</td>
</tr>
<tr id="i112" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoClaimCountMustResetIfSlotsAreReused-stormpot.PoolFixture-">slotInfoClaimCountMustResetIfSlotsAreReused</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Pool implementations might reuse their SlotInfo instances.</div>
</td>
</tr>
<tr id="i113" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoMustBeAbleToProduceRandomNumbers-stormpot.PoolFixture-">slotInfoMustBeAbleToProduceRandomNumbers</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">SlotInfo instances must have a means of acting as a non-contended source
of random numbers.</div>
</td>
</tr>
<tr id="i114" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoMustHaveAgeInMillis-stormpot.PoolFixture-">slotInfoMustHaveAgeInMillis</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i115" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoMustHaveReferenceToItsPoolable-stormpot.PoolFixture-">slotInfoMustHaveReferenceToItsPoolable</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Expirations might require access to the actual object in question
being pooled, in order to implement advanced and/or domain specific
logic.</div>
</td>
</tr>
<tr id="i116" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoMustRememberStamp-stormpot.PoolFixture-">slotInfoMustRememberStamp</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">Verify that we can read back a stamp value from the SlotInfo that we have
set, when the Slot has not been re-allocated.</div>
</td>
</tr>
<tr id="i117" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotInfoStampMustResetIfSlotsAreReused-stormpot.PoolFixture-">slotInfoStampMustResetIfSlotsAreReused</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">The SlotInfo stamp is zero by default.</div>
</td>
</tr>
<tr id="i118" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#slotsThatMakeTheExpirationThrowAreInvalid-stormpot.PoolFixture-">slotsThatMakeTheExpirationThrowAreInvalid</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">If the Expiration throws an exception when evaluating a slot, then that
slot should be considered invalid.</div>
</td>
</tr>
<tr id="i119" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#targetSizeMustBeConfiguredSizeByDefault-stormpot.PoolFixture-">targetSizeMustBeConfiguredSizeByDefault</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i120" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#targetSizeMustBeGreaterThanZero-stormpot.PoolFixture-">targetSizeMustBeGreaterThanZero</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
<tr id="i121" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#throwingInterruptedExceptionFromClaimMustClearInterruptedFlag-stormpot.PoolFixture-">throwingInterruptedExceptionFromClaimMustClearInterruptedFlag</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>
<div class="block">As per the general contract of interruptible methods, throwing an
InterruptedException will clear the interrupted flag on the thread.</div>
</td>
</tr>
<tr id="i122" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../stormpot/PoolTest.html#timeoutCannotBeNull-stormpot.PoolFixture-">timeoutCannotBeNull</a></span>(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="failurePrinter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failurePrinter</h4>
<pre>public final&nbsp;org.junit.rules.TestRule failurePrinter</pre>
</li>
</ul>
<a name="queuePool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queuePool</h4>
<pre>public static&nbsp;<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a> queuePool</pre>
</li>
</ul>
<a name="blazePool">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>blazePool</h4>
<pre>public static&nbsp;<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a> blazePool</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PoolTest--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PoolTest</h4>
<pre>public&nbsp;PoolTest()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setUp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUp</h4>
<pre>public&nbsp;void&nbsp;setUp()</pre>
</li>
</ul>
<a name="shutPoolDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutPoolDown</h4>
<pre>public&nbsp;void&nbsp;shutPoolDown()
                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="metaTestingAssumptions-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metaTestingAssumptions</h4>
<pre>public&nbsp;void&nbsp;metaTestingAssumptions(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;ignore)</pre>
</li>
</ul>
<a name="timeoutCannotBeNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutCannotBeNull</h4>
<pre>public&nbsp;void&nbsp;timeoutCannotBeNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="claimMustReturnIfWithinTimeout-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustReturnIfWithinTimeout</h4>
<pre>public&nbsp;void&nbsp;claimMustReturnIfWithinTimeout(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A call to claim must return before the timeout elapses if it
can claim an object from the pool, and it must return that object.
The timeout for the claim is longer than the timeout for the test, so we
know that we won&#8217;t get a null back here because the timeout wasn&#8217;t long
enough. If we do, then the pool does not correctly implement the timeout
behaviour.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="claimMustReturnNullIfTimeoutElapses-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustReturnNullIfTimeoutElapses</h4>
<pre>public&nbsp;void&nbsp;claimMustReturnNullIfTimeoutElapses(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A call to claim that fails to get an object before the
timeout elapses, must return null.
We test this by depleting a pool, and then make a call to claim with
a shot timeout. If that call returns &lt;code&gt;null&lt;/code&gt;, then we&#8217;re good.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustGetPooledObjectsFromAllocator-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustGetPooledObjectsFromAllocator</h4>
<pre>public&nbsp;void&nbsp;mustGetPooledObjectsFromAllocator(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>While the pool mustn&#8217;t return null when we claim an object within the
timeout period, it likewise mustn&#8217;t just come up with any random thing
that implements Poolable.
The objects have to come from the associated Allocator.
Or fixtures are required to count all allocations and deallocations,
so we can measure that our intended interactions do, in fact, reach
the Allocator. The PoolFixture will typically do this by wrapping the
source Allocator in a CountingAllocatorWrapper, but that is an
irrelevant detail.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="blockingClaimWithTimeoutMustWaitIfPoolIsEmpty-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockingClaimWithTimeoutMustWaitIfPoolIsEmpty</h4>
<pre>public&nbsp;void&nbsp;blockingClaimWithTimeoutMustWaitIfPoolIsEmpty(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>If the pool has been depleted for objects, then a call to claim with
timeout will wait until either an object becomes available, or the timeout
elapses. Whichever comes first.
We test for this by observing that a thread that makes a claim-with-timeout
call to a depleted pool, will enter the TIMED_WAITING state.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="blockingOnClaimWithTimeoutMustResumeWhenPoolablesAreReleased-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockingOnClaimWithTimeoutMustResumeWhenPoolablesAreReleased</h4>
<pre>public&nbsp;void&nbsp;blockingOnClaimWithTimeoutMustResumeWhenPoolablesAreReleased(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A thread that is waiting in claim-with-timeout on a depleted pool must
wake up if another thread releases an object back into the pool.
So if we deplete a pool, make a thread wait in claim-with-timeout and
then release an object back into the pool, then we must be able to join
to that thread.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustReuseAllocatedObjects-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustReuseAllocatedObjects</h4>
<pre>public&nbsp;void&nbsp;mustReuseAllocatedObjects(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>One uses a pool because a certain type of objects are expensive to
create and we would like to recycle them. So when we claim and object,
then release it back into the pool, and then claim and release it again,
then we must observe that only a single object allocation has taken
place.
The pool has a size of 1, so we can safely base this test on the
allocation count - even for pools that like to eagerly saturate the
pool with objects.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="constructorMustThrowOnPoolSizeLessThanOne-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructorMustThrowOnPoolSizeLessThanOne</h4>
<pre>public&nbsp;void&nbsp;constructorMustThrowOnPoolSizeLessThanOne(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
<div class="block"><p>Be careful and prevent the creation of pools with a size less than one.
The contract of claim is to block indefinitely if one such pool were
to be created.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Config.html?is-external=true#setSize-int-" title="class or interface in stormpot"><code>Config.setSize(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="constructorMustThrowOnNullExpiration-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructorMustThrowOnNullExpiration</h4>
<pre>public&nbsp;void&nbsp;constructorMustThrowOnNullExpiration(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
<div class="block"><p>Prevent the creation of pools with a null Expiration.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Config.html?is-external=true#setExpiration-stormpot.Expiration-" title="class or interface in stormpot"><code>Config.setExpiration(Expiration)</code></a></dd>
</dl>
</li>
</ul>
<a name="constructorMustThrowOnNullAllocator-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructorMustThrowOnNullAllocator</h4>
<pre>public&nbsp;void&nbsp;constructorMustThrowOnNullAllocator(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
<div class="block"><p>Prevent the creation of pools with a null Allocator.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Config.html?is-external=true#setAllocator-stormpot.Allocator-" title="class or interface in stormpot"><code>Config.setAllocator(Allocator)</code></a></dd>
</dl>
</li>
</ul>
<a name="constructorMustThrowOnNullThreadFactory-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructorMustThrowOnNullThreadFactory</h4>
<pre>public&nbsp;void&nbsp;constructorMustThrowOnNullThreadFactory(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
<div class="block"><p>Prevent the creation of pools with a null ThreadFactory.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Config.html?is-external=true#setThreadFactory-java.util.concurrent.ThreadFactory-" title="class or interface in stormpot"><code>Config.setThreadFactory(java.util.concurrent.ThreadFactory)</code></a></dd>
</dl>
</li>
</ul>
<a name="constructorMustThrowIfConfiguredThreadFactoryReturnsNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructorMustThrowIfConfiguredThreadFactoryReturnsNull</h4>
<pre>public&nbsp;void&nbsp;constructorMustThrowIfConfiguredThreadFactoryReturnsNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="mustUseProvidedExpiration-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustUseProvidedExpiration</h4>
<pre>public&nbsp;void&nbsp;mustUseProvidedExpiration(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pools must use the provided expiration to determine whether slots
are invalid or not, instead of using their own ad-hoc mechanisms.
We test this by using an expiration that counts the number of times
it is invoked. Then we claim an object and assert that the expiration
was invoked at least once, presumably for that object.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="exceptionsFromExpirationMustBubbleOut-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exceptionsFromExpirationMustBubbleOut</h4>
<pre>public&nbsp;void&nbsp;exceptionsFromExpirationMustBubbleOut(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block"><p>In the hopefully unlikely event that an Expiration throws an
exception, that exception should bubble out of the pool unspoiled.</p>
<p>We test for this by configuring an Expiration that always throws.
No guarantees are being made about when, exactly, it is that the pool will
invoke the Expiration. Therefore we claim and release an object a
couple of times. That ought to do it.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="slotsThatMakeTheExpirationThrowAreInvalid-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotsThatMakeTheExpirationThrowAreInvalid</h4>
<pre>public&nbsp;void&nbsp;slotsThatMakeTheExpirationThrowAreInvalid(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>If the Expiration throws an exception when evaluating a slot, then that
slot should be considered invalid.</p>
<p>We test for this by configuring an expiration that always throws,
and then we make a claim and a release to make sure that it got invoked.
Then, since the pool size is one, we make another claim to make sure that
the invalid slot got reallocated. We don&#8217;t care if that second claim
throws or not. All we&#8217;re interested in, is whether the deallocation took
place.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoClaimCountMustIncreaseWithClaims-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoClaimCountMustIncreaseWithClaims</h4>
<pre>public&nbsp;void&nbsp;slotInfoClaimCountMustIncreaseWithClaims(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>SlotInfo objects offer a count of how many times the Poolable it
represents, has been claimed. Naturally, this count must increase every
time that object is claimed.
We test for this by creating an Expiration that writes the count to
an atomic every time it is called. Then we make a couple of claims and
releases, and assert that the recorded count has gone up.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoMustHaveReferenceToItsPoolable-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoMustHaveReferenceToItsPoolable</h4>
<pre>public&nbsp;void&nbsp;slotInfoMustHaveReferenceToItsPoolable(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Expirations might require access to the actual object in question
being pooled, in order to implement advanced and/or domain specific
logic.
As with the claim count test above, we configure an expiration
that puts the value into an atomic. Then we assert that the value of the
atomic is one of the claimed objects.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoMustBeAbleToProduceRandomNumbers-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoMustBeAbleToProduceRandomNumbers</h4>
<pre>public&nbsp;void&nbsp;slotInfoMustBeAbleToProduceRandomNumbers(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>SlotInfo instances must have a means of acting as a non-contended source
of random numbers. We test this by getting a hold of a SlotInfo instance,
and then pulling a large quantity of random numbers from it. If the
numbers are random, then they will have a roughly even split between ones
and zero bits.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoClaimCountMustResetIfSlotsAreReused-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoClaimCountMustResetIfSlotsAreReused</h4>
<pre>public&nbsp;void&nbsp;slotInfoClaimCountMustResetIfSlotsAreReused(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pool implementations might reuse their SlotInfo instances. We need to
make sure that if an object is reallocated, then the claim count for that
slot is reset to zero.
We test for this by configuring an expiration that invalidates
objects that have been claimed more than once, and records the maximum
claim count it observes in an atomic. Then we make more claims than this
limit, and observe that precisely one more than the max have been observed.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoMustRememberStamp-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoMustRememberStamp</h4>
<pre>public&nbsp;void&nbsp;slotInfoMustRememberStamp(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Verify that we can read back a stamp value from the SlotInfo that we have
set, when the Slot has not been re-allocated.
We test this with an Expiration that set the stamp value if it is zero,
or set a flag to signify that it has been remembered, if it is the value
we set it to. Then we claim and release a couple of times. If it works,
the second claim+release pair would have raised the flag.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoStampMustResetIfSlotsAreReused-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoStampMustResetIfSlotsAreReused</h4>
<pre>public&nbsp;void&nbsp;slotInfoStampMustResetIfSlotsAreReused(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>The SlotInfo stamp is zero by default. This must also be true of Slots
that has had their object reallocated. So if we set the stamp, then
reallocate the Poolable, then we should observe that the stamp is now back
to zero again.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoMustHaveAgeInMillis-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoMustHaveAgeInMillis</h4>
<pre>public&nbsp;void&nbsp;slotInfoMustHaveAgeInMillis(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoAgeMustResetAfterAllocation-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoAgeMustResetAfterAllocation</h4>
<pre>public&nbsp;void&nbsp;slotInfoAgeMustResetAfterAllocation(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="slotInfoAgeMustResetAfterReallocation-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slotInfoAgeMustResetAfterReallocation</h4>
<pre>public&nbsp;void&nbsp;slotInfoAgeMustResetAfterReallocation(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="preventClaimFromPoolThatIsShutDown-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preventClaimFromPoolThatIsShutDown</h4>
<pre>public&nbsp;void&nbsp;preventClaimFromPoolThatIsShutDown(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>It is not possible to claim from a pool that has been shut down. Doing
so will cause an IllegalStateException to be thrown. This must take
effect as soon as shutdown has been called. So the fact that claim()
becomes unusable happens-before the pool shutdown process completes.
The memory effects of this are not tested for, but I don&#8217;t think it is
possible to implement in a thread-safe manner and not provide the
memory effects that we want.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustReplaceExpiredPoolables-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustReplaceExpiredPoolables</h4>
<pre>public&nbsp;void&nbsp;mustReplaceExpiredPoolables(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Objects in the pool only live for a certain amount of time, and then
they must be replaced/renewed. Pools should generally try to renew
before the timeout elapses for the given object, but we don&#8217;t test for
that here.
We set the TTL to be 1 milliseconds, because that is short enough that
we can wait for it in a spin-loop. This way, the objects will always
appear to have expired when checked. This means that every claim will
always allocate a new object, and so our two claims will translate to
at least two allocations, which is what we check for. Note that the TTL
is so short that newly allocated objects might actually expire before a
claim call can complete, and thus more than the expected two allocations
are possible. This is why we check for <strong>at least</strong> two allocations.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustDeallocateExpiredPoolablesAndStayWithinSizeLimit-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustDeallocateExpiredPoolablesAndStayWithinSizeLimit</h4>
<pre>public&nbsp;void&nbsp;mustDeallocateExpiredPoolablesAndStayWithinSizeLimit(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>The size limit on a pool is strict, unless specially (as in a
non-standard way) configured otherwise. A pool is not allowed to
have more objects allocated than the size, under any circumstances.
So, when the pool renews an object it must make ensure that the
deallocation of the old object happens-before the allocation of the
new object.
We test for this by configuring a pool with a timeout of one millisecond.
Then we claim an release an object, and wait for 2 milliseconds. Now the
object is expired, and must therefore be re-allocated before the next
claim can return. So we do a claim (but no release) and check that we have
had at least one deallocation. Note that our TTL is so short, that an
object might expire before a claim call can complete, so this is why we
check for <strong>at least</strong> one deallocation.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Config.html?is-external=true#setSize-int-" title="class or interface in stormpot"><code>Config.setSize(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="mustDeallocateAllPoolablesBeforeShutdownTaskReturns-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustDeallocateAllPoolablesBeforeShutdownTaskReturns</h4>
<pre>public&nbsp;void&nbsp;mustDeallocateAllPoolablesBeforeShutdownTaskReturns(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>When we call shutdown() on a pool, the shutdown process is initiated and
the call returns a Completion object. A call to await() on this
Completion object will not return until the shutdown process has been
completed.
A shutdown process is not complete until all Poolables in the pool have
been deallocated. This means that any claimed objects must be released,
all the deallocations must have returned.
We test for this effect by making a pool of size 2 and claim both objects.
Then we release them. The order is important, to prevent the allocation
of just one object that is then reused. Then we shut the pool down and
wait for it to finish. After this, we must observe that exactly 2
deallocations have occurred.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownCallMustReturnFastIfPoolablesAreStillClaimed-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownCallMustReturnFastIfPoolablesAreStillClaimed</h4>
<pre>public&nbsp;void&nbsp;shutdownCallMustReturnFastIfPoolablesAreStillClaimed(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>So awaiting the shut down completion cannot return before all
claimed objects are both released and deallocated. Likewise, the
initiation of the shut down process - the call to shutdown() - must
decidedly NOT wait for any claimed objects to be released, before the
call returns.
We test for this effect by creating a pool and claiming and object
without ever releasing it. Then we call shutdown, without ever awaiting
its completion. The test passes if this does not dead-lock, hence the
test timeout.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownMustNotDeallocateClaimedPoolables-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownMustNotDeallocateClaimedPoolables</h4>
<pre>public&nbsp;void&nbsp;shutdownMustNotDeallocateClaimedPoolables(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We have verified that the call to shutdown on a pool does not block on
claimed objects, and we have verified that all objects are deallocated
when the shut down completes. Now we need to verify that the release of
a claimed objects happens-before that object is deallocated as part of
the shut down process.
We test for this effect by claiming an object from a pool, never to
release it again. Then we initiate the shut down process. We await the
completion of the shut down process with a very short timeout, to be
sure that the process has actually started. This is to thwart any data
race that might otherwise be lurking. Then finally we assert that the
claimed object (the only one allocated) have not been deallocated.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitOnShutdownMustReturnWhenClaimedObjectsAreReleased-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitOnShutdownMustReturnWhenClaimedObjectsAreReleased</h4>
<pre>public&nbsp;void&nbsp;awaitOnShutdownMustReturnWhenClaimedObjectsAreReleased(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We know from the previous test, that awaiting the shut down completion
will wait for any claimed objects to be released. However, once those
objects are released, we must also make sure that the shut down process
actually resumes and eventually completes as a result.
We test this by claiming and object and starting the shut down process.
Then we set another thread to await the completion of the shut down
process, and make sure that it actually enters the WAITING state.
Then we release the claimed object and try to join the thread. If we
manage to join the thread, then the shut down process has completed, and
the test pass if this all happens within the test timeout.
When a thread is in the WAITING state, it means that it is waiting for
another thread to do something that will let it resume. In our case,
the thread is waiting for someone to release the claimed object.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitWithTimeoutMustReturnFalseIfTimeoutElapses-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitWithTimeoutMustReturnFalseIfTimeoutElapses</h4>
<pre>public&nbsp;void&nbsp;awaitWithTimeoutMustReturnFalseIfTimeoutElapses(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>The await with timeout on the Completion of the shut down process
must return false if the timeout elapses, as is the typical contract
of such methods in java.util.concurrent.
We are going to assume that the implementation adheres to the requested
timeout within reasonable margins, because the implementations are
probably going to delegate this call to java.util.concurrent anyway.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitWithTimeoutMustReturnTrueIfCompletesWithinTimeout-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitWithTimeoutMustReturnTrueIfCompletesWithinTimeout</h4>
<pre>public&nbsp;void&nbsp;awaitWithTimeoutMustReturnTrueIfCompletesWithinTimeout(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We have verified that await with timeout returns false if the timeout
elapses. We also have to make sure that the call returns true if the
shut down process completes within the timeout.
We test for this by claiming an object, start the shut down process,
set a thread to await the completion with a timeout, then release the
claimed object and join the thread. The result will be put in an
AtomicBoolean, which then must contain true after the thread has been
joined. And this must all happen before the test itself times out.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitingOnAlreadyCompletedShutDownMustNotBlock-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitingOnAlreadyCompletedShutDownMustNotBlock</h4>
<pre>public&nbsp;void&nbsp;awaitingOnAlreadyCompletedShutDownMustNotBlock(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We have verified that the await method works as intended, if you
begin your awaiting while the shut down process is still undergoing.
However, we must also make sure that further calls to await after the
shut down process has completed, do not block.
We do this by shutting a pool down, and then make a number of await calls
to the shut down Completion. These calls must all return before the
timeout of the test elapses.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="blockedClaimMustThrowWhenPoolIsShutDown-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockedClaimMustThrowWhenPoolIsShutDown</h4>
<pre>public&nbsp;void&nbsp;blockedClaimMustThrowWhenPoolIsShutDown(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A call to claim on a pool that has been, or is in the process of being,
shut down, will throw an IllegalStateException. So should calls that
are blocked on claim when the shut down process is initiated.
To test this, we create a pool with one object and claim it. Then we
set another thread to also claim an object. This thread will block
because the pool has been depleted. To make sure of this, we wait for
the thread to enter the WAITING state. Then we start the shut down
process of the pool, release the object and join the thread we started.
If the call to claim throws an exception in the other thread, then it
will be put in an AtomicReference, and we assert that it is indeed an
IllegalStateException.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotDeallocateTheSameObjectMoreThanOnce-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotDeallocateTheSameObjectMoreThanOnce</h4>
<pre>public&nbsp;void&nbsp;mustNotDeallocateTheSameObjectMoreThanOnce(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Clients might hold on to objects after they have been released. This is
a user error, but pools must still maintain a coherent allocation and
deallocation pattern toward the Allocator.
We test this by configuring a pool with a short TTL so that the objects
will be deallocated as soon as possible. Then we claim an object, wait
the TTL out and release it numerous times. Then we claim another object
to guarantee that the deallocation of the first object have taken place
when we check the deallocation list for duplicates. The test pass if we
don&#8217;t find any.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownMustNotDeallocateEmptySlots-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownMustNotDeallocateEmptySlots</h4>
<pre>public&nbsp;void&nbsp;shutdownMustNotDeallocateEmptySlots(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>The shutdown procedure might be tempted to blindly iterate the pool
data structure and deallocate every possible slot. However, slots that
are empty should not be deallocated. In fact, the pool should never
try to deallocate any null value.
We attempt to test for this by having a special Allocator that flags
a boolean if a null was deallocated. Then we create a pool with the
Allocator and a negative TTL, and claim and release an object.
Then we shut the pool down. After the shut down procedure completes,
we check that no nulls were deallocated.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownMustEventuallyDeallocateAllPoolables-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownMustEventuallyDeallocateAllPoolables</h4>
<pre>public&nbsp;void&nbsp;shutdownMustEventuallyDeallocateAllPoolables(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustPropagateExceptionsFromAllocateThroughClaim-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustPropagateExceptionsFromAllocateThroughClaim</h4>
<pre>public&nbsp;void&nbsp;mustPropagateExceptionsFromAllocateThroughClaim(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pools must be prepared in the event that an Allocator throws an
Exception from allocate. If it is not possible to allocate an object,
then the pool must throw a PoolException through claim.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/PoolException.html?is-external=true" title="class or interface in stormpot"><code>PoolException</code></a></dd>
</dl>
</li>
</ul>
<a name="mustPropagateExceptionsFromReallocateThroughClaim-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustPropagateExceptionsFromReallocateThroughClaim</h4>
<pre>public&nbsp;void&nbsp;mustPropagateExceptionsFromReallocateThroughClaim(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pools must be prepared in the event that a Reallocator throws an
Exception from reallocate. If it is not possible to reallocate an object,
then the pool must throw a PoolException through claim.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/PoolException.html?is-external=true" title="class or interface in stormpot"><code>PoolException</code></a></dd>
</dl>
</li>
</ul>
<a name="mustStillBeUsableAfterExceptionInAllocate-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustStillBeUsableAfterExceptionInAllocate</h4>
<pre>public&nbsp;void&nbsp;mustStillBeUsableAfterExceptionInAllocate(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A pool must not break its internal invariants if an Allocator throws an
exception in allocate, and it must still be usable after the exception
has bubbled out.
We test this by configuring an Allocator that throws an exception from
the first allocation, and then allocates as normal if not. On the first
call to claim, we catch the exception that propagates out of the pool
and flip the boolean. Then the next call to claim must return a non-null
object within the test timeout.
If it does not, then the pool might have broken locks or it might have
garbage in the slot location.
The first claim might race with eager reallocation, though. So we don&#8217;t
assert on the exception, and make sure to release any object we might
get back.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustStillBeUsableAfterExceptionInReallocate-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustStillBeUsableAfterExceptionInReallocate</h4>
<pre>public&nbsp;void&nbsp;mustStillBeUsableAfterExceptionInReallocate(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Likewise as above, a pool must not break its internal invariants if a
Reallocator throws an exception in reallocate, and it must still be
usable after the exception has bubbled out.
We test for this by configuring a Reallocator that always throws on
reallocate, and we also configure an Expiration that will mark the first
slot it checks as expired. Then, when we call claim, that first live slot
will be sent back for reallocation, which will throw and poison the slot.
Then the slot comes back to our still on-going claim, which throws
because of the poison. The slot then gets sent back again, and now,
because of the poison, it will not be reallocated, but instead have a
fresh Poolable allocated anew. This new good Poolable is what we get out
of the last call to claim.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustSwallowExceptionsFromDeallocateThroughRelease-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustSwallowExceptionsFromDeallocateThroughRelease</h4>
<pre>public&nbsp;void&nbsp;mustSwallowExceptionsFromDeallocateThroughRelease(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We cannot guarantee that exceptions from deallocating objects will
propagate out through release, because the actual deallocation might be
done asynchronously in a different thread.
So instead, we are going to guarantee the opposite: that calling release
on an object will never propagate, or even throw, any exceptions ever.
Users of a pool who are interested in logging what exceptions might be
thrown by their allocators deallocate method, are going to have to wrap
their allocators in try-catching and logging code.
We test this by configuring the pool with an Allocator that always throws
on deallocate, and a very short TTL. Then we claim and release an object,
spin the TTL out and then claim another one. This ensures that the
deallocation actually takes place, because full pools guarantee that
the deallocation of an expired object happens before the allocation
of its replacement.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustSwallowExceptionsFromDeallocateThroughShutdown-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustSwallowExceptionsFromDeallocateThroughShutdown</h4>
<pre>public&nbsp;void&nbsp;mustSwallowExceptionsFromDeallocateThroughShutdown(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>While it is technically possible to propagate exceptions from an
Allocators deallocate method during the shutdown procedure, it would not
be a desirable behaviour because it would be inconsistent with how this
works for the release method on Poolable - and Slot, for that matter.
People who are interested in the exceptions that deallocate might throw,
should wrap their Allocators in implementations that log them. If they
do this, then they will already have a means for accessing the exceptions
thrown. As such, there is no point in also logging the exceptions in the
shut down procedure.
We test this by configuring a pool with an Allocator that always throws
on deallocate, in addition to counting deallocations. We also keep the
standard TTL configuration to prevent the objects from being immediately
deallocated when they are released, and we set the size to 2. Then we
claim two objects and then release them. This means that two objects are
now live in the pool. Then we shut the pool down.
The test passes if the shut down procedure completes without throwing
any exceptions, and we observe exactly 2 deallocations.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitOnCompletionWhenInterruptedMustThrow-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitOnCompletionWhenInterruptedMustThrow</h4>
<pre>public&nbsp;void&nbsp;awaitOnCompletionWhenInterruptedMustThrow(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Calling await on a completion when your thread is interrupted, must
throw an InterruptedException.
In this particular case we make sure that the shut down procedure has
not yet completed, by claiming an object from the pool without releasing
it.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitWithTimeoutOnCompletionMustThrowUponInterruption-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitWithTimeoutOnCompletionMustThrowUponInterruption</h4>
<pre>public&nbsp;void&nbsp;awaitWithTimeoutOnCompletionMustThrowUponInterruption(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A thread that is awaiting the completion of a shut down procedure with
a timeout, must throw an InterruptedException if it is interrupted.
We test this the same way we test without the timeout. The only difference
is that our thread will enter the TIMED_WAITING state because of the
timeout.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitOnCompletionWhenInterruptedMustClearInterruption-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitOnCompletionWhenInterruptedMustClearInterruption</h4>
<pre>public&nbsp;void&nbsp;awaitOnCompletionWhenInterruptedMustClearInterruption(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>As per the contract of throwing an InterruptedException, if the
await of an unfinished completion throws an InterruptedException, then
they must also clear the interrupted status.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitWithTimeoutOnFinishedCompletionWhenInterruptedMustThrow-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitWithTimeoutOnFinishedCompletionWhenInterruptedMustThrow</h4>
<pre>public&nbsp;void&nbsp;awaitWithTimeoutOnFinishedCompletionWhenInterruptedMustThrow(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Calling await with a timeout on a finished completion when your thread
is interrupted must, just as with calling await without a timeout,
throw an InterruptedException.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="awaitOnFinishedCompletionMustClearInterruption-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitOnFinishedCompletionMustClearInterruption</h4>
<pre>public&nbsp;void&nbsp;awaitOnFinishedCompletionMustClearInterruption(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
<div class="block"><p>As per the contract of throwing an InterruptedException, the above must
also clear the threads interrupted status.</p></div>
</li>
</ul>
<a name="claimMustThrowIfAllocationReturnsNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustThrowIfAllocationReturnsNull</h4>
<pre>public&nbsp;void&nbsp;claimMustThrowIfAllocationReturnsNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Allocators must never return &lt;code&gt;null&lt;/code&gt;, and if they do, then a
call to claim must throw a PoolException to indicate this fact.
We test this by configuring the pool with an Allocator that always
returns null from allocate, and then we try to claim from this pool.
This call to claim must then throw a PoolException.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Allocator.html?is-external=true#allocate-stormpot.Slot-" title="class or interface in stormpot"><code>Allocator.allocate(Slot)</code></a>, 
<a href="../../apidocs/stormpot/PoolException.html?is-external=true" title="class or interface in stormpot"><code>PoolException</code></a></dd>
</dl>
</li>
</ul>
<a name="claimMustThrowIfReallocationReturnsNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustThrowIfReallocationReturnsNull</h4>
<pre>public&nbsp;void&nbsp;claimMustThrowIfReallocationReturnsNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Reallocators must never return &lt;code&gt;null&lt;/code&gt; from
<a href="../../apidocs/stormpot/Reallocator.html?is-external=true#reallocate-stormpot.Slot-T-" title="class or interface in stormpot"><code>Reallocator.reallocate(Slot, Poolable)</code></a>, and if they do, then a
call to claim must throw a PoolException to indicate this fact.
We test this by configuring a Reallocator that always return null on
reallocation, and an Expiration that will mark the first Poolable we try
to claim, as expired. Then we call claim, and object will be allocated,
it will be considered expired and sent back, then it gets reallocated
and the reallocate method returns null. Now the slot is poisoned, gets
back to the still on-going call to claim, that now throws a
PoolException.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Allocator.html?is-external=true#allocate-stormpot.Slot-" title="class or interface in stormpot"><code>Allocator.allocate(Slot)</code></a>, 
<a href="../../apidocs/stormpot/Reallocator.html?is-external=true#reallocate-stormpot.Slot-T-" title="class or interface in stormpot"><code>Reallocator.reallocate(Slot, Poolable)</code></a>, 
<a href="../../apidocs/stormpot/PoolException.html?is-external=true" title="class or interface in stormpot"><code>PoolException</code></a></dd>
</dl>
</li>
</ul>
<a name="claimWhenInterruptedMustThrow-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimWhenInterruptedMustThrow</h4>
<pre>public&nbsp;void&nbsp;claimWhenInterruptedMustThrow(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Threads that are already interrupted upon entry to the claim method, must
promptly be met with an InterruptedException. This behaviour matches that
of other interruptible methods in java.util.concurrent.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a></dd>
</dl>
</li>
</ul>
<a name="blockedClaimWithTimeoutMustThrowUponInterruption-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockedClaimWithTimeoutMustThrowUponInterruption</h4>
<pre>public&nbsp;void&nbsp;blockedClaimWithTimeoutMustThrowUponInterruption(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>The claim methods checks whether the current thread is interrupted upon
entry, but perhaps what is more important is the interruption of a claim
call that is already waiting when the thread is interrupted.
We test for this by setting a thread to interrupt us, when our thread
enters the WAITING or TIMED_WAITING states. Then we make a call to the
appropriate claim method. If it throws an InterruptException, then the
test passes.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="throwingInterruptedExceptionFromClaimMustClearInterruptedFlag-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwingInterruptedExceptionFromClaimMustClearInterruptedFlag</h4>
<pre>public&nbsp;void&nbsp;throwingInterruptedExceptionFromClaimMustClearInterruptedFlag(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>As per the general contract of interruptible methods, throwing an
InterruptedException will clear the interrupted flag on the thread.
This must also hold for the claim methods.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="claimMustStayWithinDeadlineEvenIfAllocatorBlocks-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustStayWithinDeadlineEvenIfAllocatorBlocks</h4>
<pre>public&nbsp;void&nbsp;claimMustStayWithinDeadlineEvenIfAllocatorBlocks(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>A call to claim with time-out must complete within the time-out period
even if the Allocator never returns.
We test for this by configuring an Allocator that will never return from
any calls to allocate, and then calling claim with a time-out on the pool.
This claim-call must then complete before the time-out on the test case
itself elapses.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a></dd>
</dl>
</li>
</ul>
<a name="claimMustStayWithinTimeoutEvenIfExpiredObjectIsReleased-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimMustStayWithinTimeoutEvenIfExpiredObjectIsReleased</h4>
<pre>public&nbsp;void&nbsp;claimMustStayWithinTimeoutEvenIfExpiredObjectIsReleased(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Claim with timeout must adhere to its timeout value. Some pool
implementations do the waiting in a loop, and if they don&#8217;t do it right,
they might end up resetting the timeout every time they loop. This test
tries to ensure that that no such resetting can happen because an object
is released back into the pool. This may not cover all cases that are
possible with the different pool implementations, but it is at least a
start. And one that can be generally tested for across pool
implementations. Chances are, that if a pool handles this specific case,
then it handles all cases that are relevant to its implementation.</p>
<p>We test for this by depleting a big pool with a very short TTL. After the
pool has been depleted, the allocator will no longer create any more
objects, so no expired objects will be renewed. Then we try to claim one
more object, and that will block. Meanwhile, another thread will perform
a trickle of releases. No useful objects will come back to the pool, but
there will still be some amount of activity. While all this goes on, the
blocked claim call must adhere to its specified timeout.
try to claim one more object</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="claimWithTimeoutValueLessThanOneMustReturnImmediately-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimWithTimeoutValueLessThanOneMustReturnImmediately</h4>
<pre>public&nbsp;void&nbsp;claimWithTimeoutValueLessThanOneMustReturnImmediately(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>When claim is called with a timeout less than one, then it means that
no (observable amount of) waiting should take place.
&lt;p&gt;
We test for this by going through the numbers 0 to 99, both inclusive,
and call claim with those numbers as timeout values. The test is
considered to have passed, if this process completes within the 601
millisecond timeout on the test case.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true#claim-stormpot.Timeout-" title="class or interface in stormpot"><code>Pool.claim(Timeout)</code></a></dd>
</dl>
</li>
</ul>
<a name="awaitCompletionWithTimeoutLessThanOneMustReturnImmediately-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitCompletionWithTimeoutLessThanOneMustReturnImmediately</h4>
<pre>public&nbsp;void&nbsp;awaitCompletionWithTimeoutLessThanOneMustReturnImmediately(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>When await is called on a shutdown Completion with a timeout value less
than one, then no amount of waiting must take place.
&lt;p&gt;
We test for this by depleting a pool and initiating the shut-down
procedure. The fact that the pool is depleted, means that the shutdown
procedure will not be able to finish. In other words, we know that it is
in progress for our subsequent await calls.
Then we call await on the shut-down Completion object, giving timeout
values ranging from zero to -99. These awaits must all complete before the
test itself times out.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Completion.html?is-external=true" title="class or interface in stormpot"><code>Completion</code></a></dd>
</dl>
</li>
</ul>
<a name="awaitCompletionWithNullTimeUnitMustThrow-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitCompletionWithNullTimeUnitMustThrow</h4>
<pre>public&nbsp;void&nbsp;awaitCompletionWithNullTimeUnitMustThrow(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>One must provide a Timeout argument when awaiting the completion of a
shut-down procedure. Passing null is thus an illegal argument.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Completion.html?is-external=true" title="class or interface in stormpot"><code>Completion</code></a></dd>
</dl>
</li>
</ul>
<a name="mustCompleteShutDownEvenIfAllSlotsHaveNullErrors-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustCompleteShutDownEvenIfAllSlotsHaveNullErrors</h4>
<pre>public&nbsp;void&nbsp;mustCompleteShutDownEvenIfAllSlotsHaveNullErrors(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Even if the Allocator has never made a successful allocation, the pool
must still be able to complete its shut-down procedure.
In this case we test with an allocator that always returns null.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="mustCompleteShutDownEvenIfAllSlotsHaveAllocationErrors-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustCompleteShutDownEvenIfAllSlotsHaveAllocationErrors</h4>
<pre>public&nbsp;void&nbsp;mustCompleteShutDownEvenIfAllSlotsHaveAllocationErrors(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>As with
<a href="../stormpot/PoolTest.html#mustCompleteShutDownEvenIfAllSlotsHaveNullErrors-stormpot.PoolFixture-"><code>mustCompleteShutDownEvenIfAllSlotsHaveNullErrors(PoolFixture)</code></a>,
the pool must be able to shut down if it has never been able to allocate
anything.
In this case we test with an allocator that always throws an exception.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="mustBeAbleToShutDownEvenIfInterrupted-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustBeAbleToShutDownEvenIfInterrupted</h4>
<pre>public&nbsp;void&nbsp;mustBeAbleToShutDownEvenIfInterrupted(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Calling shutdown on a pool while being interrupted must still start the
shut-down procedure.
We test for this by initiating the shut-down procedure on a pool while
being interrupted. Then we clear our interrupted flag and await the
completion of the shut-down procedure. The procedure must complete within
the test timeout. If it does not, then that is taken as evidence that
the procedure did NOT start, and so the test fails.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a></dd>
</dl>
</li>
</ul>
<a name="callingShutdownMustNotAffectInterruptionStatus-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callingShutdownMustNotAffectInterruptionStatus</h4>
<pre>public&nbsp;void&nbsp;callingShutdownMustNotAffectInterruptionStatus(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Initiating the shut-down procedure must not influence the threads
interruption status.
We test for this by calling shutdown on the pool while being interrupted.
Then we check that we are still interrupted.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../apidocs/stormpot/Pool.html?is-external=true" title="class or interface in stormpot"><code>Pool</code></a></dd>
</dl>
</li>
</ul>
<a name="mustUnbiasObjectsNoLongerClaimed-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustUnbiasObjectsNoLongerClaimed</h4>
<pre>public&nbsp;void&nbsp;mustUnbiasObjectsNoLongerClaimed(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pool implementations might do some kind of biasing to reduce contention.
We need to make sure that if there are not enough objects for all the
threads, then even biased objects must participate in the circulation.
If they don&#8217;t, then some threads might starve.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="biasedClaimMustUpgradeToOrdinaryClaimIfTheObjectIsPulledFromTheQueue-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>biasedClaimMustUpgradeToOrdinaryClaimIfTheObjectIsPulledFromTheQueue</h4>
<pre>public&nbsp;void&nbsp;biasedClaimMustUpgradeToOrdinaryClaimIfTheObjectIsPulledFromTheQueue(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Pool implementations that do biasing need to ensure, that claimed objects
are not available for other threads, even if the object is claimed with
a biased kind of claim.
In other words, if we claim an object, it might become biased to us. If we
then release it and then call claim again, we might go through a different
path through the code. And this new path needs to ensure that the object
is properly claimed, such that no other threads can claim it as well.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="depletedPoolThatHasBeenShutDownMustThrowUponClaim-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>depletedPoolThatHasBeenShutDownMustThrowUponClaim</h4>
<pre>public&nbsp;void&nbsp;depletedPoolThatHasBeenShutDownMustThrowUponClaim(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>If a pool has been depleted, and then shut down, and another call to claim
comes in, then it must immediately throw an IllegalStateException.
Importantly, it must not block the thread to wait for any objects to be
released.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="depletedPoolThatHasBeenShutDownMustThrowUponClaimEvenAfterSomeTime-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>depletedPoolThatHasBeenShutDownMustThrowUponClaimEvenAfterSomeTime</h4>
<pre>public&nbsp;void&nbsp;depletedPoolThatHasBeenShutDownMustThrowUponClaimEvenAfterSomeTime(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Basically the same test as above, except now we wait for the shutdown
process to make a bit of progress. This might expose different race bugs.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="poolThatHasBeenShutDownMustThrowUponClaimEvenIfItHasAvailableUnbiasedObjects-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poolThatHasBeenShutDownMustThrowUponClaimEvenIfItHasAvailableUnbiasedObjects</h4>
<pre>public&nbsp;void&nbsp;poolThatHasBeenShutDownMustThrowUponClaimEvenIfItHasAvailableUnbiasedObjects(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We must ensure that, for pool implementation that do biasing, the checking
of whether the pool has been shut down must come before even a biased
claim. Even though a biased claim might not do any waiting that a normal
claim might do, it is still important that the shutdown notification takes
precedence, because we don&#8217;t know for how long the claimed object will be
held, or if there will be other biased claims in the future.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotThrowWhenReleasingObjectClaimedByAnotherThread-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotThrowWhenReleasingObjectClaimedByAnotherThread</h4>
<pre>public&nbsp;void&nbsp;mustNotThrowWhenReleasingObjectClaimedByAnotherThread(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>It is explicitly permitted that the thread that releases an object back
into the pool, can be a different thread than the one that claimed the
particular object.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotCachePoisonedSlots-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotCachePoisonedSlots</h4>
<pre>public&nbsp;void&nbsp;mustNotCachePoisonedSlots(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Here&#8217;s the scenario we&#8217;re trying to target:</p>
<div class="ulist">
<ul>
<li>
<p>You (or your thread) do a successful claim, and triumphantly stores it
in the ThreadLocal cache.</p>
</li>
<li>
<p>You then return the object after use, so now it&#8217;s back in the
live-queue for others to grab.</p>
</li>
<li>
<p>Someone else tries to claim the object, but decides that it has expired,
and sends it off through the dead-queue to be reallocated.</p>
</li>
<li>
<p>The reallocation fails for some reason, and the slot is now poisoned.</p>
</li>
<li>
<p>You want to claim an object again, and start by looking in the
ThreadLocal cache.</p>
</li>
<li>
<p>You find the slot for the object you had last, but the slot is poisoned.</p>
</li>
<li>
<p>Now, because you found it in the ThreadLocal cache – and notably did
<strong>not</strong> pull it off of the live-queue – you cannot just put it on the
dead-queue, because that could lead to unbounded memory use.</p>
</li>
<li>
<p>Instead, it has to be marked as live, and we instead have to wait for
someone to pull it off of the live-queue, check the poison again, and
<strong>then</strong> put it on the dead-queue.</p>
</li>
<li>
<p>Your ThreadLocal reclaim attempt then end in throwing the poison,
wrapped in a PoolException.</p>
</li>
<li>
<p>Sadly, this process does not involve clearing out the ThreadLocal cache,
so if you quickly catch the exception and try to claim again, you will
find the same exact poisoned slot and go through the same routine, that
ends in a thrown exception and a poisoned slot still left in the
ThreadLocal cache.</p>
</li>
</ul>
</div></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="targetSizeMustBeGreaterThanZero-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>targetSizeMustBeGreaterThanZero</h4>
<pre>public&nbsp;void&nbsp;targetSizeMustBeGreaterThanZero(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="targetSizeMustBeConfiguredSizeByDefault-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>targetSizeMustBeConfiguredSizeByDefault</h4>
<pre>public&nbsp;void&nbsp;targetSizeMustBeConfiguredSizeByDefault(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="getTargetSizeMustReturnLastSetTargetSize-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetSizeMustReturnLastSetTargetSize</h4>
<pre>public&nbsp;void&nbsp;getTargetSizeMustReturnLastSetTargetSize(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="increasingSizeMustAllowMoreAllocations-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increasingSizeMustAllowMoreAllocations</h4>
<pre>public&nbsp;void&nbsp;increasingSizeMustAllowMoreAllocations(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>When we increase the size of a depleted pool, it should be possible to
make claim again and get out newly allocated objects.</p>
<p>We test for this by depleting a pool, upping the size and then claiming
again with a timeout that is longer than the timeout of the test. The test
pass if it does not timeout.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="decreasingSizeMustEventuallyDeallocateSurplusObjects-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decreasingSizeMustEventuallyDeallocateSurplusObjects</h4>
<pre>public&nbsp;void&nbsp;decreasingSizeMustEventuallyDeallocateSurplusObjects(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>We must somehow ensure that the pool starts deallocating more than it
allocates, when the pool is shrunk. This is difficult because the pool
cannot tell us when it reaches the target size, so we have to figure this
out by using a special allocator.</p>
<p>We test for this by configuring a CountingAllocator that also unparks a
thread (namely ours, the main thread for the test) at every allocation
and deallocation. We also configure the pool to have a somewhat large
initial size, so we can shrink it later. Then we deplete the pool, and
set a smaller target size. After setting the new target size, we release
just enough objects for the pool to reach it, and then we wait for the
allocator to register that same number of deallocations. This has to
happen before the test times out. After that, we check that the difference
between the allocations and the deallocations matches the new target size.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotReallocateWhenReleasingExpiredObjectsIntoShrunkPool-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotReallocateWhenReleasingExpiredObjectsIntoShrunkPool</h4>
<pre>public&nbsp;void&nbsp;mustNotReallocateWhenReleasingExpiredObjectsIntoShrunkPool(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Similar to the decreasingSizeMustEventuallyDeallocateSurplusObjects test
above, but this time the objects are all expired after the pool has been
shrunk.</p>
<p>Again, we deplete the pool. Once depleted, our expiration has been
configured such, that all subsequent items one tries to claim, will be
expired.</p>
<p>Then we set the new lower target size, and release just enough for the
pool to reach the new target.</p>
<p>Then we try to claim an object from the pool with a very short timeout.
This will return null because the pool is still depleted. We also check
that the pool has not made any new allocations, even though we have been
releasing objects. We don&#8217;t check the deallocations because it&#8217;s
complicated and we did it in the
decreasingSizeMustEventuallyDeallocateSurplusObjects test above.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="settingTargetSizeOnPoolThatHasBeenShutDownDoesNothing-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settingTargetSizeOnPoolThatHasBeenShutDownDoesNothing</h4>
<pre>public&nbsp;void&nbsp;settingTargetSizeOnPoolThatHasBeenShutDownDoesNothing(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="increasingAndDecreasingSizeInQuickSuccessionMustEventuallyReachTargetSize-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increasingAndDecreasingSizeInQuickSuccessionMustEventuallyReachTargetSize</h4>
<pre>public&nbsp;void&nbsp;increasingAndDecreasingSizeInQuickSuccessionMustEventuallyReachTargetSize(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>Make sure that the pool does not get into a bad state, caused by concurrent
background resizing jobs interfering with each other.</p>
<p>We test this by creating a small pool, then resizing it larger (so much so that
any resizing job is unlikely to finish before we can make our next move) and then
immediately resizing it smaller again. This should put multiple resizing jobs in
flight. When all the background jobs complete, we should observe that the pool
ended up with exactly the target size number of items in it.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotLeakSlotsIfExpirationThrowsThrowableInsteadOfException-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotLeakSlotsIfExpirationThrowsThrowableInsteadOfException</h4>
<pre>public&nbsp;void&nbsp;mustNotLeakSlotsIfExpirationThrowsThrowableInsteadOfException(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>The specification only promises to correctly handle Expirations that throw
Exceptions, but we also test with Throwable, just in case we might be able
to recover from them as well.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsThrowingExceptions-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsThrowingExceptions</h4>
<pre>public&nbsp;void&nbsp;mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsThrowingExceptions(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsThrowingExceptions-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsThrowingExceptions</h4>
<pre>public&nbsp;void&nbsp;mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsThrowingExceptions(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsReturningNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsReturningNull</h4>
<pre>public&nbsp;void&nbsp;mustProactivelyReallocatePoisonedSlotsWhenAllocatorStopsReturningNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsReturningNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsReturningNull</h4>
<pre>public&nbsp;void&nbsp;mustProactivelyReallocatePoisonedSlotsWhenReallocatorStopsReturningNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotFrivolouslyReallocateNonPoisonedSlotsDuringEagerRecovery-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotFrivolouslyReallocateNonPoisonedSlotsDuringEagerRecovery</h4>
<pre>public&nbsp;void&nbsp;mustNotFrivolouslyReallocateNonPoisonedSlotsDuringEagerRecovery(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustCompleteShutdownEvenIfAllocatorEatsTheInterruptSignal-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustCompleteShutdownEvenIfAllocatorEatsTheInterruptSignal</h4>
<pre>public&nbsp;void&nbsp;mustCompleteShutdownEvenIfAllocatorEatsTheInterruptSignal(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>If the interrupt happen inside the Allocator.allocate(Slot) method, and
then the allocator either clears the interruption status, or throws an
InterruptedException which in turn will be understood as poison, then the
allocation thread can miss the shutdown signal, and never begin the
shutdown sequence.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="poolMustTolerateInterruptedExceptionFromAllocatorWhenNotShutDown-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poolMustTolerateInterruptedExceptionFromAllocatorWhenNotShutDown</h4>
<pre>public&nbsp;void&nbsp;poolMustTolerateInterruptedExceptionFromAllocatorWhenNotShutDown(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="poolMustUseConfiguredThreadFactoryWhenCreatingBackgroundThreads-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poolMustUseConfiguredThreadFactoryWhenCreatingBackgroundThreads</h4>
<pre>public&nbsp;void&nbsp;poolMustUseConfiguredThreadFactoryWhenCreatingBackgroundThreads(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolInterfaceMustBeMXBeanConformant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolInterfaceMustBeMXBeanConformant</h4>
<pre>public&nbsp;void&nbsp;managedPoolInterfaceMustBeMXBeanConformant()</pre>
</li>
</ul>
<a name="managedPoolMustBeExposableThroughAnMBeanServerAsAnMXBean-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustBeExposableThroughAnMBeanServerAsAnMXBean</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustBeExposableThroughAnMBeanServerAsAnMXBean(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustCountAllocations-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountAllocations</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountAllocations(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustCountAllocationsFailingWithExceptions-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountAllocationsFailingWithExceptions</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountAllocationsFailingWithExceptions(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustCountAllocationsFailingByReturningNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountAllocationsFailingByReturningNull</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountAllocationsFailingByReturningNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustCountReallocationsFailingWithExceptions-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountReallocationsFailingWithExceptions</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountReallocationsFailingWithExceptions(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustCountReallocationsFailingByReturningNull-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountReallocationsFailingByReturningNull</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountReallocationsFailingByReturningNull(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustAllowGettingAndSettingPoolTargetSize-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustAllowGettingAndSettingPoolTargetSize</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustAllowGettingAndSettingPoolTargetSize(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="managedPoolMustGivePoolState-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustGivePoolState</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustGivePoolState(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="managedPoolMustReturnNaNWhenNoMetricsRecorderHasBeenConfigured-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustReturnNaNWhenNoMetricsRecorderHasBeenConfigured</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustReturnNaNWhenNoMetricsRecorderHasBeenConfigured(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="managedPoolMustGetLatencyPercentilesFromConfiguredMetricsRecorder-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustGetLatencyPercentilesFromConfiguredMetricsRecorder</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustGetLatencyPercentilesFromConfiguredMetricsRecorder(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="managedPoolMustRecordObjectLifetimeOnDeallocateInConfiguredMetricsRecorder-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustRecordObjectLifetimeOnDeallocateInConfiguredMetricsRecorder</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustRecordObjectLifetimeOnDeallocateInConfiguredMetricsRecorder(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustNotRecordObjectLifetimeLatencyBeforeFirstDeallocation-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustNotRecordObjectLifetimeLatencyBeforeFirstDeallocation</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustNotRecordObjectLifetimeLatencyBeforeFirstDeallocation(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustRecordObjectLifetimeOnReallocateInConfiguredMetricsRecorder-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustRecordObjectLifetimeOnReallocateInConfiguredMetricsRecorder</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustRecordObjectLifetimeOnReallocateInConfiguredMetricsRecorder(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolLeakedObjectCountMustStartAtZero-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolLeakedObjectCountMustStartAtZero</h4>
<pre>public&nbsp;void&nbsp;managedPoolLeakedObjectCountMustStartAtZero(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="managedPoolMustCountLeakedObjects-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustCountLeakedObjects</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustCountLeakedObjects(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsEnabled-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsEnabled</h4>
<pre>public&nbsp;void&nbsp;mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsEnabled(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsDisabled-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsDisabled</h4>
<pre>public&nbsp;void&nbsp;mustNotHoldOnToDeallocatedObjectsWhenLeakDetectionIsDisabled(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustNotCountShutDownAsLeak-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustNotCountShutDownAsLeak</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustNotCountShutDownAsLeak(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustNotCountResizeAsLeak-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustNotCountResizeAsLeak</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustNotCountResizeAsLeak(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="managedPoolMustReturnMinusOneForLeakedObjectCountWhenDetectionIsDisabled-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>managedPoolMustReturnMinusOneForLeakedObjectCountWhenDetectionIsDisabled</h4>
<pre>public&nbsp;void&nbsp;managedPoolMustReturnMinusOneForLeakedObjectCountWhenDetectionIsDisabled(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)</pre>
</li>
</ul>
<a name="disabledLeakDetectionMustNotBreakResize-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disabledLeakDetectionMustNotBreakResize</h4>
<pre>public&nbsp;void&nbsp;disabledLeakDetectionMustNotBreakResize(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustCheckObjectExpirationInBackgroundWhenEnabled-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustCheckObjectExpirationInBackgroundWhenEnabled</h4>
<pre>public&nbsp;void&nbsp;mustCheckObjectExpirationInBackgroundWhenEnabled(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="objectMustBeClaimableAfterBackgroundReallocation-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectMustBeClaimableAfterBackgroundReallocation</h4>
<pre>public&nbsp;void&nbsp;objectMustBeClaimableAfterBackgroundReallocation(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustNotReallocateObjectsThatAreNotExpiredByTheBackgroundCheck-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustNotReallocateObjectsThatAreNotExpiredByTheBackgroundCheck</h4>
<pre>public&nbsp;void&nbsp;mustNotReallocateObjectsThatAreNotExpiredByTheBackgroundCheck(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="backgroundExpirationMustExpireObjectsWhenExpirationThrows-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backgroundExpirationMustExpireObjectsWhenExpirationThrows</h4>
<pre>public&nbsp;void&nbsp;backgroundExpirationMustExpireObjectsWhenExpirationThrows(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="backgroundExpirationMustNotExpireObjectsThatAreClaimed-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backgroundExpirationMustNotExpireObjectsThatAreClaimed</h4>
<pre>public&nbsp;void&nbsp;backgroundExpirationMustNotExpireObjectsThatAreClaimed(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustDeallocateExplicitlyExpiredObjects-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustDeallocateExplicitlyExpiredObjects</h4>
<pre>public&nbsp;void&nbsp;mustDeallocateExplicitlyExpiredObjects(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustReallocateExplicitlyExpiredObjectsInBackgroundWithBackgroundExpiration-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustReallocateExplicitlyExpiredObjectsInBackgroundWithBackgroundExpiration</h4>
<pre>public&nbsp;void&nbsp;mustReallocateExplicitlyExpiredObjectsInBackgroundWithBackgroundExpiration(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustReallocateExplicitlyExpiredObjectsInBackgroundWithoutBackgroundExpiration-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustReallocateExplicitlyExpiredObjectsInBackgroundWithoutBackgroundExpiration</h4>
<pre>public&nbsp;void&nbsp;mustReallocateExplicitlyExpiredObjectsInBackgroundWithoutBackgroundExpiration(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="mustReplaceExplicitlyExpiredObjectsEvenIfDeallocationFails-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustReplaceExplicitlyExpiredObjectsEvenIfDeallocationFails</h4>
<pre>public&nbsp;void&nbsp;mustReplaceExplicitlyExpiredObjectsEvenIfDeallocationFails(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="explicitExpiryFromExpirationMustAllowOneClaimPerObject-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>explicitExpiryFromExpirationMustAllowOneClaimPerObject</h4>
<pre>public&nbsp;void&nbsp;explicitExpiryFromExpirationMustAllowOneClaimPerObject(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="explicitlyExpiryMustBeIdempotent-stormpot.PoolFixture-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>explicitlyExpiryMustBeIdempotent</h4>
<pre>public&nbsp;void&nbsp;explicitlyExpiryMustBeIdempotent(<a href="../stormpot/PoolFixture.html" title="interface in stormpot">PoolFixture</a>&nbsp;fixture)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoolTest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../stormpot/PoolFixture.html" title="interface in stormpot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../stormpot/PreciseLeakDetectorIT.html" title="class in stormpot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?stormpot/PoolTest.html" target="_top">Frames</a></li>
<li><a href="PoolTest.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2014&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
