<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>Stormpot - Object pooling for Java</title>

  <style type="text/css">
    html { -webkit-text-size-adjust: none; } /* no odd font-size in mobile safari */
    body {
      margin: 1.0em 0 0 1.0em;
      margin-left: 0px;
      margin-right: 0px;
      font-family: Geogia, Palatino, Cambria, serif;
      color: #000000;
    }
    body div {
      padding: 0.1em 7.0em 0.1em 7.0em;
      margin-top: 10px;
    }
    body div.ribbon {
      -moz-box-shadow: 0 0 25px #333;
      -webkit-box-shadow: 0 0 25px #333;
      box-shadow: 0 0 25px #333;
      background:#8dca16;
      background-image: -o-linear-gradient(#8dca16, #65b010);
      filter:progid:DXImageTransform.Microsoft.gradient(
        GradientType=0, startColorstr='#8dca16', endColorstr='#65b010');
      background:-webkit-gradient(linear, left top, left bottom, from(#8dca16), to(#65b010));
      background:-moz-linear-gradient(top,  #8dca16,  #65b010);
      color: #FFFFFF;
    }
    h1 { font-size: 3.8em; margin-bottom: 3px; text-shadow: 3px 3px 5px #666; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; }
    a { color: #213b24; }
    .description { font-size: 1.3em; margin-bottom: 10px; margin-top: 10px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #ddd; padding: 15px; border-radius: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
    table { border: none; width: 100%; }
    pre span { color: #65b010; }
    pre span.comment { color: gray; }
    td { vertical-align: top; width: 50%; }
  </style>
</head>

<body>
  <a href="http://github.com/chrisvest/stormpot"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div>
    <h1><a href="http://github.com/chrisvest/stormpot">Stormpot</a>
      <span class="small">by <a href="http://github.com/chrisvest">Chris Vest</a></span></h1>
    <div class="description">
      Generic object pooling for Java
    </div>
  </div>

  <div class="ribbon">
    <table>
      <tr>
        <td>
          <p>
            Stormpot is an object pooling library for Java. Use it to recycle
            objects that are expensive to create. The library will take care of
            creating and destroying your objects in the background.
          </p>
          <p>
            The library is distributed under the
            <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0 license</a>.
            You can get the <a href="https://github.com/chrisvest/stormpot">source</a>,
            read the <a href="site/apidocs/index.html">documentation</a>
            and report <a href="https://github.com/chrisvest/stormpot/issues">issues</a>.
          </p>
        </td>
        <td>
          <pre><span>&lt;dependency&gt;
  &lt;groupId&gt;</span>com.github.chrisvest<span>&lt;/groupId&gt;
  &lt;artifactId&gt;</span>stormpot<span>&lt;/artifactId&gt;
  &lt;version&gt;</span>2.0<span>&lt;/version&gt;
&lt;/dependency&gt;</span></pre>
        </td>
      </tr>
    </table>
  </div>

  <div>
    <h2>Why choose Stormpot?</h2>
    <p>
      &hellip; over, say, <a href="http://commons.apache.org/pool/">Commons-Pool</a>?
      Good question! Both libraries are released under the Apache 2.0 license,
      both have thorough documentation, both have high test coverage (Stormpot have
      <a href="site/jacoco/index.html">100%</a>) and both depend on nothing
      but Java itself.
    </p>
    <p>
      There are differences, though. Stormpot has an invasive but small API,
      whereas Commons-Pool has a richer and less intrusive API. The different
      slants in their API design comes from differing focus. Stormpot is
      designed for performance and a unified API for different
      implementations. This means that those who use Stormpot can switch
      between implementations without worrying about compatibility.
      Commons-Pool, on the other hand, have different APIs for different
      kinds of pools, so changing pool implementation might mean also having
      to change the code that uses the pool. On the other hand, the various
      pool implementations can make special features available that would
      otherwise be inconvenient to expose through a generic API.
    </p>
    <h2>Getting started</h2>
    <p>
      You have decided to use Stormpot for something and want to get started.
      In this section, I will show you the minimum amount of code it takes, to
      get started with Stormpot. I mentioned above that Stormpot has an
      invasive API. This  means that there are things you need to do to your
      code before you can use it. Specifically, there are two interfaces that
      you need to implement:
      <a href="site/apidocs/stormpot/Poolable.html">Poolable</a>, for the
      objects that you want pooled, and
      <a href="site/apidocs/stormpot/Allocator.html">Allocator</a>, which is a
      kind of factory for your Poolables. Their minimum correct
      implementations look like this:
    </p>
    <table>
      <tr>
        <td><pre><span class="comment">// MyPoolable.java - minimum Poolable implementation</span>
<span>import</span> stormpot.Poolable;
<span>import</span> stormpot.Slot;

<span>public class</span> MyPoolable <span>implements</span> Poolable <span>{
  private final</span> Slot slot;
  <span>public</span> MyPoolable(Slot slot) <span>{
    this</span>.slot = slot;
  <span>}

  public void</span> release() <span>{</span>
    slot.release(<span>this</span>);
  <span>}
}</span></pre></td>
        <td><pre><span class="comment">// MyAllocator.java - minimum Allocator implementation</span>
<span>import</span> stormpot.Allocator;
<span>import</span> stormpot.Slot;

<span>public class</span> MyAllocator <span>implements</span> Allocator&lt;MyPoolable&gt; <span>{
  public</span> MyPoolable allocate(Slot slot) <span>throws</span> Exception <span>{
    return new</span> MyPoolable(slot);
  <span>}
  
  public void</span> deallocate(MyPoolable poolable) <span>throws</span> Exception <span>{</span>
    <span class="comment">// Nothing to do here
    // But it's a perfect place to close sockets, files, etc.</span>
  <span>}
}</span></pre></td>
      </tr>
    </table>
    <p>
      And with that, it is just a simple matter of configuring and wiring
      up a <a href="site/apidocs/stormpot/Pool.html">Pool</a> implementation:
    </p>
    <pre>MyAllocator allocator = <span>new</span> MyAllocator();
Config&lt;MyPoolable&gt; config = <span>new</span> Config&lt;MyPoolable&gt;().setAllocator(allocator);
Pool&lt;MyPoolable&gt; pool = <span>new</span> QueuePool&lt;MyPoolable&gt;(config);</pre>
  </div>

  <div class="ribbon">
    <h2>Want to help out?</h2>
    <p>
      You don't have to be able to code. There is documentation to be written,
      reviewed and polished. There is a web site to maintain. There are
      benchmarks to run. And of course, there are also features to implement
      and bugs to fix.
    </p>
    <p>
      Take a look at the issues that have been marked with
      <a href="https://github.com/chrisvest/stormpot/issues?labels=help-wanted">help-wanted</a>
      for good places to start. Then fork the project, make your changes and
      send me a pull request.
    </p>
  </div>

  <p class="footer">
    Get the source code on GitHub : <a href="http://github.com/chrisvest/stormpot">chrisvest/stormpot</a><br/>
    Follow me on Twitter : <a href="https://twitter.com/chvest">@chvest</a><br/>
    Or send me an email if you have questions :
    <a href="mailto:Chris%20Vest%20&lt;mr.chrisvest@gmail.com&gt;">Chris Vest &lt;mr.chrisvest@gmail.com&gt;</a> 
  </p>

  <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-12274882-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
